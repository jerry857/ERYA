2020-10-24 11:03:47,819 - Shuake.py[line:566] - INFO: 运行
2020-10-24 11:03:55,657 - Shuake.py[line:429] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配原则	3.1.1章节测验
2020-10-24 11:03:55,657 - Shuake.py[line:430] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 422, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:03:55,658 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 422, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:03:55,659 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 11:04:03,216 - Shuake.py[line:566] - INFO: 运行
2020-10-24 11:04:07,323 - Shuake.py[line:429] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配原则	3.1.1章节测验
2020-10-24 11:04:07,323 - Shuake.py[line:430] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 422, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:04:07,324 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 422, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:04:07,324 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 11:04:21,790 - Shuake.py[line:566] - INFO: 运行
2020-10-24 11:04:24,581 - Shuake.py[line:429] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配原则	3.1.1章节测验
2020-10-24 11:04:24,581 - Shuake.py[line:430] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 422, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:04:24,581 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 422, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:04:24,581 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 11:12:12,887 - Shuake.py[line:570] - INFO: 运行
2020-10-24 11:12:17,094 - Shuake.py[line:433] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配原则	3.1.1章节测验
2020-10-24 11:12:17,095 - Shuake.py[line:434] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 426, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:12:17,095 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 426, in dati
    assert flag == 1  # 若发生异常  答案没找到
AssertionError
2020-10-24 11:12:17,096 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 11:12:50,640 - Shuake.py[line:570] - INFO: 运行
2020-10-24 11:13:12,556 - Shuake.py[line:433] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配原则	3.1.1章节测验
2020-10-24 11:13:12,556 - Shuake.py[line:434] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 386, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 11:13:12,556 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 386, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 11:13:12,556 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 11:13:25,483 - Shuake.py[line:570] - INFO: 运行
2020-10-24 11:15:46,646 - Shuake.py[line:570] - INFO: 运行
2020-10-24 11:16:46,810 - Shuake.py[line:433] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配原则	3.1.1章节测验
2020-10-24 11:16:46,810 - Shuake.py[line:434] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 386, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 11:16:46,812 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 386, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 11:16:46,812 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 11:16:54,982 - Shuake.py[line:570] - INFO: 运行
2020-10-24 11:22:08,114 - Shuake.py[line:571] - INFO: 运行
2020-10-24 11:33:14,081 - Shuake.py[line:572] - INFO: 运行
2020-10-24 11:35:05,058 - Shuake.py[line:572] - INFO: 运行
2020-10-24 12:11:17,131 - Shuake.py[line:569] - INFO: 运行
2020-10-24 12:11:19,202 - Shuake.py[line:432] - ERROR: 女生穿搭技巧	选对色彩衬肤色	找准适合自己的肤色	3.2.1章节测验
2020-10-24 12:11:19,203 - Shuake.py[line:433] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 358, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 12:11:19,204 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 358, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 12:11:19,204 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 12:11:54,819 - Shuake.py[line:569] - INFO: 运行
2020-10-24 12:16:19,104 - Shuake.py[line:569] - INFO: 运行
2020-10-24 12:16:41,600 - Shuake.py[line:432] - ERROR: 女生穿搭技巧	选对色彩衬肤色	找准适合自己的肤色	3.2.1章节测验
2020-10-24 12:16:41,600 - Shuake.py[line:433] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 388, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 12:16:41,601 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 388, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 12:16:41,602 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 12:16:53,598 - Shuake.py[line:569] - INFO: 运行
2020-10-24 13:36:01,563 - Shuake.py[line:569] - INFO: 运行
2020-10-24 13:58:09,230 - Shuake.py[line:570] - INFO: 运行
2020-10-24 13:58:09,345 - Shuake.py[line:65] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 662, in urlopen
    self._prepare_proxy(conn)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 948, in _prepare_proxy
    conn.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 360, in connect
    ssl_context=context,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\ssl_.py", line 370, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 412, in wrap_socket
    session=session
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 853, in _create
    self.do_handshake()
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 1117, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 59, in login
    data=login_info)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in post
    return super(Session,self).post(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 578, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 514, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))
2020-10-24 13:58:09,385 - Shuake.py[line:66] - INFO: 18925468581登陆失败
2020-10-24 13:58:09,386 - Shuake.py[line:557] - INFO: 陈科全	： 密码错误
2020-10-24 13:58:18,679 - Shuake.py[line:570] - INFO: 运行
2020-10-24 13:58:24,764 - Shuake.py[line:433] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 13:58:24,764 - Shuake.py[line:434] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 389, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 13:58:24,765 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 389, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 13:58:24,766 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 13:58:29,396 - Shuake.py[line:570] - INFO: 运行
2020-10-24 13:58:33,591 - Shuake.py[line:433] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 13:58:33,591 - Shuake.py[line:434] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 389, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 13:58:33,591 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 389, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 13:58:33,591 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 13:59:09,105 - Shuake.py[line:571] - INFO: 运行
2020-10-24 13:59:14,407 - Shuake.py[line:434] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 13:59:14,407 - Shuake.py[line:435] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 390, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 13:59:14,408 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 390, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 13:59:14,408 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 13:59:27,813 - Shuake.py[line:570] - INFO: 运行
2020-10-24 14:02:19,410 - Shuake.py[line:573] - INFO: 运行
2020-10-24 14:02:42,820 - Shuake.py[line:436] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:02:42,820 - Shuake.py[line:437] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 392, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 14:02:42,820 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 392, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 14:02:42,820 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 14:03:08,774 - Shuake.py[line:573] - INFO: 运行
2020-10-24 14:23:30,603 - Shuake.py[line:580] - INFO: 运行
2020-10-24 14:36:28,294 - Shuake.py[line:585] - INFO: 运行
2020-10-24 14:36:35,877 - Shuake.py[line:448] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:36:35,877 - Shuake.py[line:449] - ERROR: 答题出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521395761 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 436, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521395761 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))
2020-10-24 14:36:35,892 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521395761 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 436, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521395761 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))
2020-10-24 14:36:35,902 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 14:37:02,354 - Shuake.py[line:585] - INFO: 运行
2020-10-24 14:37:09,455 - Shuake.py[line:448] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:37:09,455 - Shuake.py[line:449] - ERROR: 答题出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521429364 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 436, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521429364 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))
2020-10-24 14:37:09,458 - Shuake.py[line:249] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521429364 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 247, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 436, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521429364 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))
2020-10-24 14:37:09,467 - Shuake.py[line:250] - INFO: 18925468581	刷课意外
2020-10-24 14:40:48,948 - Shuake.py[line:586] - INFO: 运行
2020-10-24 14:40:56,248 - Shuake.py[line:449] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:40:56,248 - Shuake.py[line:450] - ERROR: 答题出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521656154 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 437, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521656154 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))
2020-10-24 14:40:56,251 - Shuake.py[line:250] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521656154 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 248, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 437, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='mooc1-1.chaoxing.com', port=443): Max retries exceeded with url: /ananas/space/exam/js/enc_js_work.js?v=1603521656154 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))
2020-10-24 14:40:56,263 - Shuake.py[line:251] - INFO: 18925468581	刷课意外
2020-10-24 14:42:25,944 - Shuake.py[line:586] - INFO: 运行
2020-10-24 14:44:02,593 - Shuake.py[line:587] - INFO: 运行
2020-10-24 14:44:12,267 - Shuake.py[line:450] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:44:12,267 - Shuake.py[line:451] - ERROR: 答题出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 400, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\packages\six.py", line 734, in reraise
    raise value.with_traceback(tb)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 438, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2020-10-24 14:44:12,278 - Shuake.py[line:250] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 400, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\packages\six.py", line 734, in reraise
    raise value.with_traceback(tb)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 265, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 248, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 438, in dati
    pre_Resp = requests.get('https://mooc1-1.chaoxing.com/ananas/space/exam/js/enc_js_work.js',params=params_pre)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2020-10-24 14:44:12,281 - Shuake.py[line:251] - INFO: 18925468581	刷课意外
2020-10-24 14:45:20,151 - Shuake.py[line:587] - INFO: 运行
2020-10-24 14:45:52,820 - Shuake.py[line:587] - INFO: 运行
2020-10-24 14:47:35,069 - Shuake.py[line:587] - INFO: 运行
2020-10-24 14:48:14,222 - Shuake.py[line:587] - INFO: 运行
2020-10-24 14:49:58,713 - Shuake.py[line:588] - INFO: 运行
2020-10-24 14:50:23,334 - Shuake.py[line:332] - ERROR: 搜索答案出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x0000022DDBAF5FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000022DDBAF5FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 319, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 28, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000022DDBAF5FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 14:50:23,349 - Shuake.py[line:451] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:50:23,349 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 395, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 14:50:23,350 - Shuake.py[line:250] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 248, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 395, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 14:50:23,350 - Shuake.py[line:251] - INFO: 18925468581	刷课意外
2020-10-24 14:52:28,556 - Shuake.py[line:590] - INFO: 运行
2020-10-24 14:52:54,446 - Shuake.py[line:334] - ERROR: 搜索答案出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x0000023B9FCFE128>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000023B9FCFE128>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 321, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000023B9FCFE128>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 14:52:54,461 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:52:54,461 - Shuake.py[line:454] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 397, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 14:52:54,462 - Shuake.py[line:252] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 250, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 397, in dati
    assert questionAnswer is not None
AssertionError
2020-10-24 14:52:54,462 - Shuake.py[line:253] - INFO: 18925468581	刷课意外
2020-10-24 14:53:44,012 - Shuake.py[line:590] - INFO: 运行
2020-10-24 14:54:08,320 - Shuake.py[line:334] - ERROR: 搜索答案出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 321, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 14:54:08,335 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 14:54:08,335 - Shuake.py[line:454] - ERROR: 答题出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 396, in dati
    questionAnswer=answer(questionName)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 321, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 14:54:08,351 - Shuake.py[line:252] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 250, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 396, in dati
    questionAnswer=answer(questionName)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 321, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x000002854C675FD0>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 14:54:08,367 - Shuake.py[line:253] - INFO: 18925468581	刷课意外
2020-10-24 15:45:32,942 - Shuake.py[line:618] - INFO: 运行
2020-10-24 15:45:33,034 - Shuake.py[line:68] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 662, in urlopen
    self._prepare_proxy(conn)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 948, in _prepare_proxy
    conn.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 360, in connect
    ssl_context=context,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\ssl_.py", line 370, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 412, in wrap_socket
    session=session
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 853, in _create
    self.do_handshake()
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 1117, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 62, in login
    data=login_info)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 32, in post
    return super(Session,self).post(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 578, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 514, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))
2020-10-24 15:45:33,039 - Shuake.py[line:69] - INFO: 18925468581登陆失败
2020-10-24 15:45:33,040 - Shuake.py[line:605] - INFO: 陈科全	： 密码错误
2020-10-24 15:46:09,353 - Shuake.py[line:618] - INFO: 运行
2020-10-24 15:46:11,394 - Shuake.py[line:68] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 662, in urlopen
    self._prepare_proxy(conn)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 948, in _prepare_proxy
    conn.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 300, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 169, in _new_conn
    self, "Failed to establish a new connection: %s" % e
urllib3.exceptions.NewConnectionError: <urllib3.connection.VerifiedHTTPSConnection object at 0x0000014FBDFEB828>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x0000014FBDFEB828>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 62, in login
    data=login_info)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 32, in post
    return super(Session,self).post(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 578, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x0000014FBDFEB828>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')))
2020-10-24 15:46:11,397 - Shuake.py[line:69] - INFO: 18925468581登陆失败
2020-10-24 15:46:11,397 - Shuake.py[line:605] - INFO: 陈科全	： 密码错误
2020-10-24 16:15:34,761 - Shuake.py[line:639] - INFO: 运行
2020-10-24 16:15:43,870 - Shuake.py[line:485] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 16:15:43,870 - Shuake.py[line:486] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 483, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:15:43,871 - Shuake.py[line:256] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 254, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 483, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:15:43,872 - Shuake.py[line:257] - INFO: 18925468581	刷课意外
2020-10-24 16:17:10,147 - Shuake.py[line:639] - INFO: 运行
2020-10-24 16:17:34,549 - Shuake.py[line:338] - ERROR: 搜索答案出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 325, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 16:17:34,565 - Shuake.py[line:485] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 16:17:34,565 - Shuake.py[line:486] - ERROR: 答题出错
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 400, in dati
    questionAnswer=answer(questionName)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 325, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 16:17:34,581 - Shuake.py[line:256] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 387, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 956, in send
    self.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 184, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 164, in _new_conn
    % (self.host, self.timeout),
urllib3.exceptions.ConnectTimeoutError: (<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 254, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 400, in dati
    questionAnswer=answer(questionName)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 325, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 504, in send
    raise ConnectTimeout(e, request=request)
requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='c.ykhulian.com', port=80): Max retries exceeded with url: /chati/0/%E5%8D%B0%E8%8A%B1%E7%9A%84%E4%BF%97%E6%B0%94%E4%B8%8E%E5%90%A6%EF%BC%8C%E5%BE%88%E5%A4%A7%E7%A8%8B%E5%BA%A6%E5%8F%96%E5%86%B3%E4%BA%8E%E5%9B%BE%E6%A1%88%EF%BC%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E8%8A%B1%E8%89%B2%E5%90%AB%E4%B9%89%E4%B8%8D%E5%90%8C%EF%BC%8C%EF%BC%88%C2%A0%20%EF%BC%89%E7%BA%BF%E6%9D%A1%E5%88%86%E6%98%8E%EF%BC%8C%E8%AE%A9%E4%BA%BA%E4%BA%A7%E7%94%9F%E5%B9%B2%E7%BB%83%E3%80%81%E5%88%A9%E8%90%BD%E3%80%81%E7%9B%B4%E7%8E%87%E7%AE%80%E6%B4%81%E7%9A%84%E5%8D%B0%E8%B1%A1%E3%80%82 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000024D1863E198>, 'Connection to c.ykhulian.com timed out. (connect timeout=20)'))
2020-10-24 16:17:34,597 - Shuake.py[line:257] - INFO: 18925468581	刷课意外
2020-10-24 16:35:09,073 - Shuake.py[line:649] - INFO: 运行
2020-10-24 16:35:09,074 - Shuake.py[line:72] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 50, in login
    if not self.sessionload():
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 602, in sessionload
    with open("config/loginInfo/" + self.user_info["uname"]) as f:
FileNotFoundError: [Errno 2] No such file or directory: 'config/loginInfo/18925468581'
2020-10-24 16:35:09,075 - Shuake.py[line:73] - INFO: 18925468581登陆失败
2020-10-24 16:35:09,075 - Shuake.py[line:636] - INFO: 陈科全	： 密码错误
2020-10-24 16:36:49,464 - Shuake.py[line:650] - INFO: 运行
2020-10-24 16:36:49,464 - Shuake.py[line:73] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 51, in login
    if not self.sessionload():
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 605, in sessionload
    seria=pickle.load(f)
TypeError: a bytes-like object is required, not 'str'
2020-10-24 16:36:49,464 - Shuake.py[line:74] - INFO: 18925468581登陆失败
2020-10-24 16:36:49,464 - Shuake.py[line:637] - INFO: 陈科全	： 密码错误
2020-10-24 16:38:08,792 - Shuake.py[line:650] - INFO: 运行
2020-10-24 16:38:08,792 - Shuake.py[line:73] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 51, in login
    if not self.sessionload():
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 605, in sessionload
    seria=pickle.load(f)
TypeError: a bytes-like object is required, not 'str'
2020-10-24 16:38:08,792 - Shuake.py[line:74] - INFO: 18925468581登陆失败
2020-10-24 16:38:08,792 - Shuake.py[line:637] - INFO: 陈科全	： 密码错误
2020-10-24 16:40:22,503 - Shuake.py[line:650] - INFO: 运行
2020-10-24 16:40:37,209 - Shuake.py[line:486] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 16:40:37,209 - Shuake.py[line:487] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 484, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:40:37,210 - Shuake.py[line:257] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 255, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 484, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:40:37,211 - Shuake.py[line:258] - INFO: 18925468581	刷课意外
2020-10-24 16:41:59,300 - Shuake.py[line:650] - INFO: 运行
2020-10-24 16:42:10,169 - Shuake.py[line:486] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 16:42:10,169 - Shuake.py[line:487] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 484, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:42:10,170 - Shuake.py[line:257] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 255, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 484, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:42:10,170 - Shuake.py[line:258] - INFO: 18925468581	刷课意外
2020-10-24 16:57:45,000 - Shuake.py[line:652] - INFO: 运行
2020-10-24 16:57:53,620 - Shuake.py[line:486] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 16:57:53,621 - Shuake.py[line:487] - ERROR: 答题出错
2020-10-24 16:57:53,621 - Shuake.py[line:488] - ERROR: {"msg":"无效的课程！","status":false}
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 484, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:57:53,622 - Shuake.py[line:257] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 255, in shuake
    self.dati(cardInfo, reportInfo, knowledge)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 484, in dati
    assert response.json()["msg"]=="success"
AssertionError
2020-10-24 16:57:53,622 - Shuake.py[line:258] - INFO: 18925468581	刷课意外
2020-10-24 17:13:04,604 - Shuake.py[line:652] - INFO: 运行
2020-10-24 17:13:10,700 - Shuake.py[line:73] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 157, in _new_conn
    (self._dns_host, self.port), self.timeout, **extra_kw
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 84, in create_connection
    raise err
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\connection.py", line 74, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 662, in urlopen
    self._prepare_proxy(conn)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 948, in _prepare_proxy
    conn.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 300, in connect
    conn = self._new_conn()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 169, in _new_conn
    self, "Failed to establish a new connection: %s" % e
urllib3.exceptions.NewConnectionError: <urllib3.connection.VerifiedHTTPSConnection object at 0x000001EF568EF8D0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x000001EF568EF8D0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 65, in login
    data=login_info)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 32, in post
    return super(Session,self).post(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 578, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 510, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x000001EF568EF8D0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')))
2020-10-24 17:13:10,703 - Shuake.py[line:74] - INFO: 18925468581登陆失败
2020-10-24 17:13:10,703 - Shuake.py[line:639] - INFO: 陈科全	： 密码错误
2020-10-24 17:17:25,862 - Shuake.py[line:656] - INFO: 运行
2020-10-24 17:17:26,126 - Shuake.py[line:99] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 90, in init_clazzList
    clazzList = response.json()["channelList"]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\models.py", line 898, in json
    return complexjson.loads(self.text, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\json\__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "D:\Anaconda3\envs\DeepLearning\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "D:\Anaconda3\envs\DeepLearning\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2020-10-24 17:17:26,128 - Shuake.py[line:100] - INFO: 18925468581	获取班级列表失败
2020-10-24 17:17:26,128 - Shuake.py[line:154] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 109, in init_knowledegList
    for courseid in self.clazzList:
AttributeError: 'Shuake' object has no attribute 'clazzList'
2020-10-24 17:17:26,128 - Shuake.py[line:155] - INFO: 18925468581	获取课程列表失败
2020-10-24 17:18:49,277 - Shuake.py[line:656] - INFO: 运行
2020-10-24 17:18:49,554 - Shuake.py[line:99] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 90, in init_clazzList
    clazzList = response.json()["channelList"]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\models.py", line 898, in json
    return complexjson.loads(self.text, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\json\__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "D:\Anaconda3\envs\DeepLearning\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "D:\Anaconda3\envs\DeepLearning\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2020-10-24 17:18:49,564 - Shuake.py[line:100] - INFO: 18925468581	获取班级列表失败
2020-10-24 17:18:49,564 - Shuake.py[line:154] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 109, in init_knowledegList
    for courseid in self.clazzList:
AttributeError: 'Shuake' object has no attribute 'clazzList'
2020-10-24 17:18:49,564 - Shuake.py[line:155] - INFO: 18925468581	获取课程列表失败
2020-10-24 17:20:39,108 - Shuake.py[line:655] - INFO: 运行
2020-10-24 17:20:39,280 - Shuake.py[line:99] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 90, in init_clazzList
    clazzList = response.json()["channelList"]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\models.py", line 898, in json
    return complexjson.loads(self.text, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\json\__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "D:\Anaconda3\envs\DeepLearning\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "D:\Anaconda3\envs\DeepLearning\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2020-10-24 17:20:39,280 - Shuake.py[line:100] - INFO: 18925468581	获取班级列表失败
2020-10-24 17:20:39,280 - Shuake.py[line:154] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 109, in init_knowledegList
    for courseid in self.clazzList:
AttributeError: 'Shuake' object has no attribute 'clazzList'
2020-10-24 17:20:39,280 - Shuake.py[line:155] - INFO: 18925468581	获取课程列表失败
2020-10-24 17:21:01,585 - Shuake.py[line:655] - INFO: 运行
2020-10-24 17:23:57,183 - Shuake.py[line:657] - INFO: 运行
2020-10-24 17:44:11,883 - Shuake.py[line:657] - INFO: 运行
2020-10-24 17:44:14,107 - Shuake.py[line:76] - ERROR: 
Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 662, in urlopen
    self._prepare_proxy(conn)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 948, in _prepare_proxy
    conn.connect()
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connection.py", line 360, in connect
    ssl_context=context,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\ssl_.py", line 370, in ssl_wrap_socket
    return context.wrap_socket(sock, server_hostname=server_hostname)
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 412, in wrap_socket
    session=session
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 853, in _create
    self.do_handshake()
  File "D:\Anaconda3\envs\DeepLearning\lib\ssl.py", line 1117, in do_handshake
    self._sslobj.do_handshake()
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 720, in urlopen
    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\util\retry.py", line 436, in increment
    raise MaxRetryError(_pool, url, error or ResponseError(cause))
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 66, in login
    data=login_info)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 32, in post
    return super(Session,self).post(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 578, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 514, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='passport2-api.chaoxing.com', port=443): Max retries exceeded with url: /v11/loginregister?cx_xxt_passport=json (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))
2020-10-24 17:44:14,112 - Shuake.py[line:77] - INFO: 18925468581登陆失败
2020-10-24 17:44:14,113 - Shuake.py[line:644] - INFO: 陈科全	： 密码错误
2020-10-24 17:44:53,249 - Shuake.py[line:657] - INFO: 运行
2020-10-24 18:24:31,292 - Shuake.py[line:659] - INFO: 运行
2020-10-24 18:25:58,481 - Shuake.py[line:659] - INFO: 运行
2020-10-24 18:26:01,951 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	 如何着装才得体和谐	着装的基本要求	2.1.1章节测验
2020-10-24 18:26:01,951 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:01,951 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10040785" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156578" />
<input type="hidden" id="jobid" value="work-3be78179c9b5421d80fd20b570cb26d6" />
<input type="hidden" id="enc" value="bb099f67fc770a8e76997e053481165e" />
<input type="hidden" id="workAnswerId" value="22256194" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>2.1.1章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>冬衣夏穿，违背了着装的（ &nbsp; ）原则</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>场合&nbsp;</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>时间</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[单选题]</span>
    					<p>衣服不是每天都洗，但也要在条件可以的情况下，争取（&nbsp; ）天更换一下。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		    		<li class="clearfix"><div>A.<p>1天</p></div></li>
            		    		<li class="clearfix"><div>B.<p>3天<br/></p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			3.<span class="quesType">[判断题]</span>
    					<p>着装的基本要求是时尚个性。</p>
						        			</div>
            		        				  <div class="answer pdt40">
		        		        			<span class="fr pd"></span>
        					  		  			  <em class="padRight"> 我的答案 ：<i class="fw400">错</i></em>
		  	  	   </div>
    					        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "66.7";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:02,112 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	 如何着装才得体和谐	衣服的正确洗涤方法	2.2.1章节测验
2020-10-24 18:26:02,112 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:02,112 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10047647" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156580" />
<input type="hidden" id="jobid" value="work-9555be9b20864435aa644c9f22b2c283" />
<input type="hidden" id="enc" value="b1a113ccef77707672f16fc0936d8ef2" />
<input type="hidden" id="workAnswerId" value="22256630" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>2.2.1章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>黑色衣服洗涤时最好用（&nbsp; &nbsp;）洗，才不会泛白点。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>肥皂</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>洗衣粉或洗衣液</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[单选题]</span>
    					<p>可以用肥皂手洗的衣服有（&nbsp; &nbsp; ）</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>羽绒服和长裤</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>文胸和袜子</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			3.<span class="quesType">[判断题]</span>
    					<p>真丝和贵重衣服最好用沐浴液或专业洗涤产品，少用轻柔，晾干即可。</p>
						        			</div>
            		        				  <div class="answer pdt40">
		        		        			<span class="fr pd"></span>
        					  		  			  <em class="padRight"> 我的答案 ：<i class="fw400">对</i></em>
		  	  	   </div>
    					        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "33.4";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:02,294 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	 如何着装才得体和谐	服装的审美	2.1.2章节测验
2020-10-24 18:26:02,294 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:02,295 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10047601" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156579" />
<input type="hidden" id="jobid" value="work-f8a111ca662e49f28bd448c483b8399c" />
<input type="hidden" id="enc" value="1be4f876366b855fac9a05e454c184b5" />
<input type="hidden" id="workAnswerId" value="22256520" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>2.1.2章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>服饰审美的要求（&nbsp; &nbsp;）</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		    		<li class="clearfix"><div>A.<p>和谐美感</p></div></li>
            		    		<li class="clearfix"><div>B.<p>整洁文明</p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[单选题]</span>
    					<p>穿透明的上衣不要穿（&nbsp; &nbsp;）</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		    		<li class="clearfix"><div>A.<p>有色文胸</p></div></li>
            		    		<li class="clearfix"><div>B.<p>吊带背心和肉色文胸</p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "100.0";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:02,458 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	 如何着装才得体和谐	衣服的保养方法	2.2.2章节测验
2020-10-24 18:26:02,458 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:02,458 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10047699" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156581" />
<input type="hidden" id="jobid" value="work-7400f6dec6a64c02a0520f391e3cab3a" />
<input type="hidden" id="enc" value="8dee175769f0e376b0b6e8ad6fdcf684" />
<input type="hidden" id="workAnswerId" value="22256865" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>2.2.2章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>过季的衣服除（&nbsp; ）需要用衣架挂之外，其它衣物可以分门别类用防潮袋扎紧放好，节省空间</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		    		<li class="clearfix"><div>A.<p>大衣和皮衣</p></div></li>
            		    		<li class="clearfix"><div>B.<p>衬衫和毛衣</p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[判断题]</span>
    					<p>真丝和棉质衣服不能与樟脑丸同放，会损害衣物。</p>
						        			</div>
            		        				  <div class="answer pdt40">
		        		        			<span class="fr pd"></span>
        					  		  			  <em class="padRight"> 我的答案 ：<i class="fw400">对</i></em>
		  	  	   </div>
    					        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "100.0";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:02,657 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配原则	3.1.1章节测验
2020-10-24 18:26:02,657 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:02,657 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10046372" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156582" />
<input type="hidden" id="jobid" value="work-630b4b2e5e6242de898ec6d1a98a2fad" />
<input type="hidden" id="enc" value="2cc35faeee14b57819648d53e6d715be" />
<input type="hidden" id="workAnswerId" value="22256830" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>3.1.1章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>所谓三色原则，指的是服装搭配上，从上到下、从里到外，包括鞋袜发饰不要超过（&nbsp; &nbsp;）</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		    		<li class="clearfix"><div>A.<p>三色</p></div></li>
            		    		<li class="clearfix"><div>B.<p>二色</p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[单选题]</span>
    					<p>热烈奔放的色彩应是（&nbsp; &nbsp;）。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>冷色</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>暖色</p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>B</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "100.0";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:02,827 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	选对色彩衬肤色	找准适合自己的肤色	3.2.1章节测验
2020-10-24 18:26:02,827 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:02,827 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10047808" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156584" />
<input type="hidden" id="jobid" value="work-49ff527ecc56457d85a00e2e00b8ee0d" />
<input type="hidden" id="enc" value="c67c4db62c449aef299fbedff9c3f21a" />
<input type="hidden" id="workAnswerId" value="22261374" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>3.2.1章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>皮肤白皙适合（）颜色。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>混浊暗淡</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>清晰明亮</p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>B</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "100.0";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:02,995 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭要点	3.3.1章节测验
2020-10-24 18:26:02,995 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:02,995 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10047895" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156586" />
<input type="hidden" id="jobid" value="work-a96c90f139754d8b9f90e576f7b7bfa5" />
<input type="hidden" id="enc" value="3e5a23d362ad7c69e22c5ab346d1bc5e" />
<input type="hidden" id="workAnswerId" value="22262188" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>3.3.1章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>印花的俗气与否，很大程度取决于图案，不同的花色含义不同，（&nbsp; ）线条分明，让人产生干练、利落、直率简洁的印象。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>小花小草</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>几何条纹</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[单选题]</span>
    					<p>对初阶选手来说，选择印花与底色加起来不超过（&nbsp; ）颜色最保险。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>四个</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>三个</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "0.0";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:03,181 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	选对色彩衬肤色	色彩的搭配方法	3.1.2章节测验
2020-10-24 18:26:03,181 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:03,181 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10047725" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156583" />
<input type="hidden" id="jobid" value="work-53beeb24316f4aa69f48a0843d47cb05" />
<input type="hidden" id="enc" value="4976e0808c7b365f89258861728dd556" />
<input type="hidden" id="workAnswerId" value="22262070" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>3.1.2章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>具有色彩感的服装和黑白灰搭配属于（）搭配。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		    		<li class="clearfix"><div>A.<p>分离色</p></div></li>
            		    		<li class="clearfix"><div>B.<p>同类色</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>B</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[单选题]</span>
    					<p>颜色色相相同或相近，深浅明暗不同的两种同一类颜色相配的配色法，称为（&nbsp; &nbsp;）。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>对比色</p></div></li>
            		    		<li class="clearfix"><div>B.<p>分离色</p></div></li>
            		    		    		<li class="clearfix"><div>C.<p>同类色</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>B</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "0.0";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:26:03,344 - Shuake.py[line:489] - ERROR: 女生穿搭技巧	选对色彩衬肤色	找出属于自己的个人色彩	3.2.2章节测验
2020-10-24 18:26:03,344 - Shuake.py[line:490] - ERROR: 答题出错
2020-10-24 18:26:03,344 - Shuake.py[line:491] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<meta name="format-detection" content="telephone=no"/>
<title>已批阅</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=2019-1025-1645" type="text/css" rel="stylesheet"/>
<link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=2019-1025-1645" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />
<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><style>
	img { height: auto; width:auto; max-width:80%;max-height:80%;}
</style>
<script src="/static/js/domain.js"></script>
<script src="/js/phone/zepto-1.1.6.min.js"></script>
<script src="/js/phone/touch-1.1.6.js"></script>
<script src="/js/phone/fx_methods-1.1.6.js"></script>
<script src="/js/phone/fx-1.1.6.js"></script>
<script src="/js/phone/radialindicator.js"></script>
<script>window.UEDITOR_HOME_URL= '/ananas/ueditor/';</script>
<script src="/ananas/ext/ed_complete.js"></script>
<script src="/js/phone/rem750.js"></script>
<script>
	$(function(){
		window.setInterval(function(){
			try{
				parent.dynIframeSize(parent.document.getElementById("frame_content"));
			}catch(e){}	
		}, 200);
	
		//查看解析
		$(".viewAnalysis").tap(function(){
			if($(this).find("i").hasClass("down")){
    			$(this).next(".analiysis").hide()
        		$(this).find("i").removeClass("down")
			}else{
    			$(this).next(".analiysis").show();
        		$(this).find("i").addClass("down")
    			if($(this).hasClass("voteAnalysis")){
    			var len = $(this).next().find(".prg-cont-wrap").children().length;
        			if(len == 0){
        				var questionId = $(this).attr("data-param");
        				voteStatistic($(this).next().find(".prg-cont-wrap"),questionId);
        			}
    			}
			}
		});
    });
</script>
<style>
	html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
	.Py-m1-title{background:#fafafa;}
	pre{white-space: pre-wrap;}
	.answerList li{padding:0.16rem 0 0;}
	pre{white-space: pre-wrap;}
	.answerList li p{width:100%!important;font-size:0.32rem;line-height:0.56rem;padding: 0;}
	.numberDiv em{color:#7b9e31;}

	.pad30{padding:0rem;}
	.Ic_span{display:inline-block;width:.8rem;height:.8rem;border-radius:.08rem;overflow:hidden}
	.Ic_span img{width:100%;height:100%;max-width:100%;max-height:100%;}
	.wid400{width:100%;display: flex;align-items: center;justify-content: center;height: .92rem;}
	.wid400 p{display:block;width:6rem;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;line-height:.46rem;color:#000;font-size:.34rem}
	.hetNumber{font-size:.26rem;color:#999;}
	.finish{font-size:.24rem;color:#00B86E;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
	.hetNumber i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/green_right.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .hetNumber3{font-size:.26rem;color:#999;}
    .finish3{font-size:.24rem;color:#E88C17;display:block;width:0.8rem;line-height:0.33rem;text-align:center;}
    .hetNumber3 i{display:block;width:.44rem;height:.44rem;margin-left: 0.18rem;background:url(/images/work/phone/work-pend-icon.png) no-repeat;background-size:100%;margin-bottom:0.1rem;}
    .redoBtn{display:inline-block;width:0.24rem;height:.24rem;margin-top:1px;background: url("/css/work/phone/s/images/redo.png") no-repeat left center;background-size: 100%;margin-right:0.16rem;}
	.borderBom{border-bottom:1px solid #EBEBEB;}
	.nowNmber{font-size:.3rem;color:#999;padding:.24rem 0 .3rem .3rem}
	.padCon{padding: 0.4rem 0.3rem 0.36rem;box-shadow:0px -1px 0px 0px #f2f2f2;}
	.answer{ border-top:0;border-bottom: none;padding:0;line-height:0.42rem;font-size:0.3rem;padding-top:0.2rem}
	.Py-mian1{box-shadow:0px -1px 0px 0px #f2f2f2;padding: 0.5rem 0.3rem;}
	.afterTj{background:none; padding:0;border:none;}
	.Py-m1-title{background:none;font-size: 0.32rem;line-height: 0.56rem;color: #333;padding:0;}
	.bgColor{background:none}
	.answerList{padding:0 0 0.4rem;}
	.b1{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
	.cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem}
	.c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
	.answer em{display:block;font-size:0.3rem;line-height:0.42rem;font-weight:600;color:#333;}
	.padRight{padding:0 0 0.2rem;}
    .pd,.cuo,.halfRight{width:0.42rem;height:0.42rem;margin-top:0;}
	.quesType{color:#999}
	.answer em i{font-weight:400;}
	.answer em p{font-weight:400;}
	.answerItem{font-weight:400;font-size:0.3rem;line-height:0.52rem;padding-top: 0.1rem;}
	.answerItem p{display:inline}
	.myAnswer{font-weight:600;font-size:0.3rem;line-height:0.42rem;}
	.pdt40{padding-top:0.4rem}
	.pdt20{padding-top:0.2rem;}
	.answerDetail{line-height:0.52rem;font-size:0.3rem;padding-top:0.1rem}
	.fw400{font-weight:400;}
	.afterAnswer .lh56{line-height:0.56rem;font-weight: 600;padding-bottom:0.04rem;}
	.afterAnswer{padding:0;font-size:0.3rem;}
	.afterAnswer p{line-height:0.52rem;color:#333;}
	.scoreNum span{line-height:0.37rem;font-size:0.26rem;color:#999;padding-right:0.28rem;}
	.redo{padding: 0.46rem 0.3rem 0.5rem;}
	.answerpla{border-top:none;}
	.cyTips{padding-top:.1rem;color: #FF8800;margin-bottom:.36rem;display:block}
	.time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
	.answerList li p {display: inline; float: none;}
</style>
</head>
<body>

<input type="hidden" id="courseId" value="214553024" />
<input type="hidden" id="cpi" value="146096156" />
<input type="hidden" id="workId" value="10047810" />
<input type="hidden" id="mooc" value="0" />
<input type="hidden" id="knowledgeid" value="349156585" />
<input type="hidden" id="jobid" value="work-d1fb975d63f149f68d7a460ea9708ce2" />
<input type="hidden" id="enc" value="4aca88c5cb8f0fb35ea279207d8e4da2" />
<input type="hidden" id="workAnswerId" value="22263450" />
<input type="hidden" id="classId" value="31907027" />

<div class="pad30 b1">
	<div class="cyTag">
		<span class="fl c1">章节测验</span>
	</div>
	<div class="grayBg">
		<div class="clearfix borderBom padCon">
			<div class="wid400 fl">
				<p>3.2.2章节测验</p>
                                    <div class="hetNumber">
                        <i></i>
                        <span class="finish">已完成</span>
                    </div>
                			</div>
								</div>
	</div>
				
	    
     	
						
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			1.<span class="quesType">[单选题]</span>
    					<p>白里透红女生不适合（ &nbsp; ），因为这些颜色能过分突出皮肤的红色。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		    		<li class="clearfix"><div>A.<p>绿色</p></div></li>
            		    		<li class="clearfix"><div>B.<p>红色</p></div></li>
            </ul>
   <div class="answer">
		    			    				            			<span class="fr pd"></span>
            		        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			2.<span class="quesType">[单选题]</span>
    					<p>偏黑和偏黄皮肤最好都不要穿和自己肤色（ &nbsp;）颜色的衣服。</p>
						        			</div>
            		        					<ul class="answerList bgColor">
    	    	    		    		<li class="clearfix"><div>A.<p>不同</p></div></li>
            		    		    		<li class="clearfix"><div>B.<p>相同</p></div></li>
            </ul>
   <div class="answer">
		    			        			<span class="fr cuo"></span>
        					   		   			   <em class="padRight">我的答案：<i>A</i></em>
		   	   		
   </div>
            			        		</div>
    		</div>
								
									
			    		<div class="Py-mian1" style="margin-top:0;border:none;">
    			<div>
            		<div class="Py-m1-title fs16">
            			3.<span class="quesType">[判断题]</span>
    					<p>皮肤太白或者偏青色的女生适合冷色调</p>
						        			</div>
            		        				  <div class="answer pdt40">
		        		        			<span class="fr cuo"></span>
        					  		  			  <em class="padRight"> 我的答案 ：<i class="fw400">对</i></em>
		  	  	   </div>
    					        		</div>
    		</div>
			</div>
<link rel="stylesheet" href="/css/phone/hint.css?v=2018-0129-1020" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<p class="msg-content-cancel">确定</p>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>
<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2018-0808-1505"></script><link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</body>
<script>
	var courseId = $("#courseId").val();
	var classId = $("#classId").val();
	var cpi = $("#cpi").val();
	var workId = $("#workId").val();
	var workAnswerId = $("#workAnswerId").val();
	var knowledgeid = $("#knowledgeid").val();
	var jobid = $("#jobid").val();
	var enc = $("#enc").val();
	
	var lock = 0;
	function redo() {
		if (lock == 1) {
			return false;
		}
		if(confirm("确认重做？")) {
			$.ajax({
				type : "get",
				url : "/work/retest",
				dataType : "json",
				data : {
					"courseId" : courseId,
					"classId" : classId,
					"workId" : workId,
					"workAnswerId" : workAnswerId,
					"knowledgeid" : knowledgeid,
					"jobid" : jobid,
					"enc" : enc,
					"cpi" : cpi,
					"phone" : true,
				},
				success : function(data) {
					if (data.status) {
						location.href = data.url;
					} else {
						alert(data.msg);
						lock = 0;
					}
				}
			});
		}else{
			lock = 0;
		}
	}

    function reediter() {
        location.href = "/work/phone/doHomeWork?courseId=" + courseId + "&workId="
                + workId + "&knowledgeId=" + knowledgeid + "&classId=" + classId + "&workAnswerId=" + workAnswerId
                + "&jobId=" + jobid  + "&cpi=" + cpi + "&enc=" + enc;
    }
	
	
	$(".Py-mian1 img").each(function(){
		var imgSrc = $(this).attr('src');
		$(this).click(function(){		
			top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
				imageUrls : [{
					imageUrl : imgSrc,
					getOriginSize : 1
				}],
				showIndex : 0
			});
		}) 
	})
    var colors = ['#0299ff','#f57009','#00ccff','#cc66ff','#ff99ff','#2f75f7','#ffdf26','#0066ff','#00ccff','#33CC99','#D0E17D','#ef5740','#eb6877','#806256','#c1542e','#00b4ff','#36a9ce','#33cc33','#ff3333','#ef5aa1','#bcbcbc'];
    
    function voteStatistic (e,questionId) {
    	var workAnswerId = $("#workAnswerId").val();
    	var classId = $("#classId").val();
    	var url = "/work/voteQuestionStatistic?" 
    		+ "id=" + workAnswerId 
    		+ "&classId=" + classId
    		+ "&questionId=" + questionId;
    	
    	$.ajax({
    		url : url,
    		type : 'get',
    		dataType : 'json',
    		success : function(data) {
    			var status = data['status'];
    			if (status == "0" || status == 0) {
    				//alert("额，投票结果统计异常啦...");
    				openWindowHint(HINT_TYPE_TIME,'','投票结果统计异常啦...',null, 1000);
    				return;
    			}
    
    			var sum = data['sum'];
    			var voteSum = data['voteSum'];
    			if (voteSum == 0) {
    				//alert("该投票题暂无学生投票.");
    				openWindowHint(HINT_TYPE_TIME,'','该投票题暂无学生投票...',null, 1000);
    				return;
    			}
    
    
    			var dataArray = data['data'];
    			
    			var int = 0;
    			for ( var index in dataArray) {
    				var obj = dataArray[index];
    				for ( var i in obj) {
    					
    					var numAndContent = obj[i];
    					
    					var conts = numAndContent.split("|");
    					var num = conts[0];
    					var content = conts[1];
    					var percent= (Math.round(num/voteSum *10000)/100).toFixed(1);
    					
    					//console.log(num+"人:"+"percent="+ percent+ "," +content);
    					if(int >=colors.length){
    						int = colors.length -1;
    					}
    					$(e).append("<div class='ansA'><div class='prg-cont rad-prg' id='indicatorContainer"+questionId + "-"+ int 
    							+"'></div><span style='color:"+ colors[int] +"'>"+ i +"："+ num +"人</span></div>");
    					
    					radialIndicator('#indicatorContainer'+questionId + "-"+int, {
    					      barColor: colors[int],
    					      barWidth: 1,
    					      initValue: 1,
    					      roundCorner: true,
    					      percentage: true
    					    }).animate(percent);
    					
    					int++;
    				}
    			}
    
    		},
    		error : function() {
    		}
    	});
    }

	var passingStandard = "0";
	var stuScore = "33.3";
	
	if(passingStandard=='null' || passingStandard==''){
	    passingStandard = '0';
	}
	
    if(parseInt(passingStandard) == 0 || parseInt(stuScore) >= parseInt(passingStandard)) {
        parent.ed_complete();
        var height = parent.frameElement.offsetTop;
        window.top.scrollTo(0, height);
    }
</script>
<!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 361, in dati
    raise
RuntimeError: No active exception to reraise
2020-10-24 18:28:24,383 - Shuake.py[line:660] - INFO: 运行
2020-10-24 18:28:31,749 - Shuake.py[line:660] - INFO: 运行
2020-10-24 18:28:34,989 - Shuake.py[line:660] - INFO: 运行
2020-10-24 18:47:19,234 - Shuake.py[line:660] - INFO: 运行
2020-10-24 20:16:24,758 - Shuake.py[line:624] - INFO: 运行
2020-10-24 20:16:49,608 - Shuake.py[line:342] - ERROR: 搜索答案出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 329, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "D:\Anaconda3\envs\DeepLearning\lib\socket.py", line 590, in readinto
    except timeout:
TypeError: catching classes that do not inherit from BaseException is not allowed
2020-10-24 20:16:49,634 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	选对色彩衬肤色	印花与身材和肤色的穿搭方法	3.3.2章节测验
2020-10-24 20:16:49,634 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:49,635 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541787544"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            3.3.2&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=214958ef1aa2bbcf2b10af1a1364f506&workAnswerId=22260937" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22260937"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="cd8c29480d9c16f5a675e8c2c459245c"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156587"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="d41b20a79e044814a9cab8c298818bb0"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-d41b20a79e044814a9cab8c298818bb0"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10047953"/>
            <input type="hidden" name="enc_work" id="enc_work" value="214958ef1aa2bbcf2b10af1a1364f506"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>如果没有足够的身材和皮肤的自信或是在气场不够的时候，选择（&nbsp; ）。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797935"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>花色配单色</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797935"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>花色配花色</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797935" name="answer400797935"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797935" name="answertype400797935" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>想要驾驭大花朵印花，你可以通过（）来提高自己面部的存在感。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797936"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>发饰</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797936"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>化妆</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797936" name="answer400797936"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797936" name="answertype400797936" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    3.<span class="quesType">[判断题]</span>
                                    <p>丰满女生选择花色衣服，领口和胸前最好简洁。</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797937"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797937"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797937" name="answer400797937" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797937" name="answertype400797937" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797935,400797936,400797937";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797935,400797936,400797937";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22260937"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 404, in dati
    questionAnswer=answer(questionName)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 329, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "D:\Anaconda3\envs\DeepLearning\lib\socket.py", line 590, in readinto
    except timeout:
TypeError: catching classes that do not inherit from BaseException is not allowed
2020-10-24 20:16:49,869 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	选对色彩衬肤色	花色衣服穿搭注意事项	3.3.3章节测验
2020-10-24 20:16:49,870 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:49,870 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541809836"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            3.3.3&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=e79e599f8b4060e59fa2bde3f89c569e&workAnswerId=22266259" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266259"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156588"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="7bb7204f592a4a20ad290b69e5a1b3a7"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-7bb7204f592a4a20ad290b69e5a1b3a7"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10048016"/>
            <input type="hidden" name="enc_work" id="enc_work" value="e79e599f8b4060e59fa2bde3f89c569e"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>印花长裙适合搭配（&nbsp; &nbsp;），清新好看。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797944"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>靴子</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797944"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>凉鞋</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797944" name="answer400797944"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797944" name="answertype400797944" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[判断题]</span>
                                    <p>印花单品有很多，但其中最难驾驭的要数印花长裤</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797945"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797945"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797945" name="answer400797945" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797945" name="answertype400797945" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797944,400797945";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797944,400797945";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266259"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:50,136 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	什么是基本款	4.1.1章节测验
2020-10-24 20:16:50,136 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:50,136 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541810093"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.1.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=79bd869b64cd603f973764b54f707575&workAnswerId=22266260" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266260"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156589"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="8dda65c18e52423d839cdf6791d624da"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-8dda65c18e52423d839cdf6791d624da"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10048020"/>
            <input type="hidden" name="enc_work" id="enc_work" value="79bd869b64cd603f973764b54f707575"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>什么是基本款</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797716"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>容易过时</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797716"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>百搭</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797716" name="answer400797716"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797716" name="answertype400797716" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[判断题]</span>
                                    <p>基本款的基本特征是中性的颜色、中性的款式，对材质没有要求。</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797717"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797717"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797717" name="answer400797717" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797717" name="answertype400797717" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797716,400797717";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797716,400797717";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266260"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:50,330 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	不同衬衫的穿法	4.2.1章节测验
2020-10-24 20:16:50,330 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:50,330 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541810292"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.2.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=29a9bc8f6da65f6a3f43804b8c0934df&workAnswerId=22266261" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266261"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="cd8c29480d9c16f5a675e8c2c459245c"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156591"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="18fb49a904bb471cbf1c9a49260b90c9"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-18fb49a904bb471cbf1c9a49260b90c9"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10048178"/>
            <input type="hidden" name="enc_work" id="enc_work" value="29a9bc8f6da65f6a3f43804b8c0934df"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>贴合身体曲线的衬衫，以单色为主，称为（&nbsp; ）款衬衫。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797964"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>时尚</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797964"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>通勤</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797964" name="answer400797964"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797964" name="answertype400797964" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>衬衫搭配裤装，最好的搭配方式是（&nbsp; ）。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797965"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>放在外面</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797965"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>塞进里面</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797965" name="answer400797965"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797965" name="answertype400797965" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    3.<span class="quesType">[判断题]</span>
                                    <p>宽松款长度到臀部的衬衫的穿法是直接穿</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797966"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797966"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797966" name="answer400797966" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797966" name="answertype400797966" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797964,400797965,400797966";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797964,400797965,400797966";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266261"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:50,512 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	裙子的长度显高矮	4.3.1章节测验
2020-10-24 20:16:50,512 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:50,512 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541810475"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.3.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=ed3b34c213b9104e1f33b3cbf84f7c82&workAnswerId=22266262" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266262"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156595"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="e4e0503cc6d14993b020edd87fe51e2f"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-e4e0503cc6d14993b020edd87fe51e2f"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10049126"/>
            <input type="hidden" name="enc_work" id="enc_work" value="ed3b34c213b9104e1f33b3cbf84f7c82"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>掩盖腿粗缺陷的服装款式是（&nbsp; ）</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797736"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>裙装</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797736"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>裤装</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797736" name="answer400797736"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797736" name="answertype400797736" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[判断题]</span>
                                    <p>裙子的长度显高矮，显腿短的长度是小腿肚中间。</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797737"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797737"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797737" name="answer400797737" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797737" name="answertype400797737" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797736,400797737";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797736,400797737";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266262"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:50,714 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	裤子的着装要求	4.4.1章节测验
2020-10-24 20:16:50,715 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:50,715 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541810676"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.4.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=8d366d900ba385d36b4dad0e99a94f2f&workAnswerId=22266263" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266263"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156608"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="f2f2172452df4deab1c9225e67b1c2d0"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-f2f2172452df4deab1c9225e67b1c2d0"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10049603"/>
            <input type="hidden" name="enc_work" id="enc_work" value="8d366d900ba385d36b4dad0e99a94f2f"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>搭配长裤的袜子应该是（&nbsp; ），才能和裤子保持协调。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797956"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>棉袜</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797956"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>透明短丝袜</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797956"   class="clearfix" >
					<em id-param="C">C</em>
					<p>
												<cc><p>彩色丝袜</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797956" name="answer400797956"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797956" name="answertype400797956" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>有小腹的女生，选择（&nbsp; ）的裤子，可以掩盖不足。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797957"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>低腰</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797957"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>高腰</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797957" name="answer400797957"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797957" name="answertype400797957" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797956,400797957";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797956,400797957";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266263"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:50,903 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	西装的颜色与长短	4.5.1章节测验
2020-10-24 20:16:50,904 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:50,904 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541810872"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.5.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=510bd87069097b39e6052c3eb3a0aa70&workAnswerId=22266264" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266264"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156616"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="67393d5c46b449febdd8074971a88aae"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-67393d5c46b449febdd8074971a88aae"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10051422"/>
            <input type="hidden" name="enc_work" id="enc_work" value="510bd87069097b39e6052c3eb3a0aa70"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>个子娇小、瘦弱的女生，适合（）搭配短裙和连衣裙，有年轻与活力的感觉。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797876"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>短款西装</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797876"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>长款西装</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797876" name="answer400797876"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797876" name="answertype400797876" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>常用的西装颜色是（ ），是容易驾驭与搭配的款式。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797877"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>黑色</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797877"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>红色</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797877"   class="clearfix" >
					<em id-param="C">C</em>
					<p>
												<cc><p>花色</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797877" name="answer400797877"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797877" name="answertype400797877" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797876,400797877";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797876,400797877";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266264"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:51,087 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	针织开衫	4.6.1章节测验
2020-10-24 20:16:51,087 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:51,087 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541811051"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.6.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=61ad999b61220455b15d66e2a567806b&workAnswerId=22266265" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266265"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156621"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="5df40a3ea6d74436af36271131c502a6"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-5df40a3ea6d74436af36271131c502a6"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10054204"/>
            <input type="hidden" name="enc_work" id="enc_work" value="61ad999b61220455b15d66e2a567806b"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>直接贴皮肤穿，没有扎的感觉的针织衫是（ ）。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797958"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>毛针织衫&nbsp;</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797958"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>棉针织衫</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797958" name="answer400797958"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797958" name="answertype400797958" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>（ &nbsp; ）针织外套与针织打底衫相配，穿起来显得老气和沉闷，不建议年轻女生穿。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797959"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>里外同色</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797959"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>开衫配衬衫</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797959" name="answer400797959"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797959" name="answertype400797959" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797958,400797959";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797958,400797959";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266265"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:51,281 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	风衣的颜色	4.7.1章节测验
2020-10-24 20:16:51,281 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:51,281 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541811245"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.7.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=5460cd4571a4ee1929d3603c64100321&workAnswerId=22266266" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266266"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="2d5974984018f63717f37e62700cb7d7"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156625"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="abcc8b3f90464ce2bebb6808c7da2ef4"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-abcc8b3f90464ce2bebb6808c7da2ef4"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10056645"/>
            <input type="hidden" name="enc_work" id="enc_work" value="5460cd4571a4ee1929d3603c64100321"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>黄色皮肤的女生适合风衣的颜色有（）。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797764"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>米色</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797764"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>藏青色</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797764" name="answer400797764"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797764" name="answertype400797764" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797764";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797764";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266266"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:51,454 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	T恤的穿搭方法	4.8.1章节测验
2020-10-24 20:16:51,454 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:51,454 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541811423"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.8.1&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=8c582e61efdd45d2cbf27b494e97d063&workAnswerId=22266267" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266267"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156629"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="bba247dd0dd44947a252ca64f5f5dbc9"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-bba247dd0dd44947a252ca64f5f5dbc9"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10056921"/>
            <input type="hidden" name="enc_work" id="enc_work" value="8c582e61efdd45d2cbf27b494e97d063"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>吊带裙搭配白T恤，适合（ &nbsp;）的女生。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797811"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>纤瘦的&nbsp;</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797811"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>丰满的<br/></p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797811" name="answer400797811"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797811" name="answertype400797811" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[判断题]</span>
                                    <p>白T恤搭配裙裤，最好是只扎一半裙裤里。否则像汗衫。</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797812"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797812"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797812" name="answer400797812" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797812" name="answertype400797812" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797811,400797812";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797811,400797812";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266267"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:51,679 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	基本款清单	4.1.2章节测验
2020-10-24 20:16:51,680 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:51,680 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541811647"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.1.2&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=6a0958b7b388c4db19211586608c48c1&workAnswerId=22266268" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266268"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156590"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="081db261108a462d90b477e95540fd9c"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-081db261108a462d90b477e95540fd9c"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10048022"/>
            <input type="hidden" name="enc_work" id="enc_work" value="6a0958b7b388c4db19211586608c48c1"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>适合办公室穿的连衣裙应该是（&nbsp; &nbsp;）的设计款式。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797821"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>华丽繁琐</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797821"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>简洁大方</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797821" name="answer400797821"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797821" name="answertype400797821" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>百搭浅色裤裙的皮鞋颜色是（&nbsp; ）</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797822"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>米色</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797822"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>绿色或黑色</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797822" name="answer400797822"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797822" name="answertype400797822" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797821,400797822";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797821,400797822";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266268"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:51,889 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	衬衫与身材和脸型	4.2.2章节测验
2020-10-24 20:16:51,889 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:51,889 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541811846"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.2.2&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=5bc7ca3b5e011c08b8dd588a2505e8bf&workAnswerId=22266269" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266269"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="5ffc362e5f3f5fdfefbd89a98c33560a"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156592"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="35719dd1a11e477dae8fa44b702d90f1"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-35719dd1a11e477dae8fa44b702d90f1"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10048184"/>
            <input type="hidden" name="enc_work" id="enc_work" value="5bc7ca3b5e011c08b8dd588a2505e8bf"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>丰满的女生应选择（&nbsp; ）衬衫。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797833"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>带褶皱的</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797833"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>飘逸带子的</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797833" name="answer400797833"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797833" name="answertype400797833" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>胸前带褶皱的圆领衫（俗称娃娃衫）不适合（）女生。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797834"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>偏胖的</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797834"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>偏瘦的&nbsp;</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797834"   class="clearfix" >
					<em id-param="C">C</em>
					<p>
												<cc><p>高个的</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797834" name="answer400797834"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797834" name="answertype400797834" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    3.<span class="quesType">[判断题]</span>
                                    <p>长款衬衫搭配裙子，长度应超过裙子。</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797835"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797835"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797835" name="answer400797835" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797835" name="answertype400797835" value="3"/>
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    4.<span class="quesType">[判断题]</span>
                                    <p>衬衫与脸型的比例是相反</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797836"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797836"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797836" name="answer400797836" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797836" name="answertype400797836" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797833,400797834,400797835,400797836";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797833,400797834,400797835,400797836";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266269"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:52,063 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	裙子的腰线显胖瘦	4.3.2章节测验
2020-10-24 20:16:52,063 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:52,063 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541812029"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.3.2&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=ca1c8eb1f54d0b1a457062ddd273d478&workAnswerId=22266270" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266270"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156596"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="58ad6cc55ad74620b96e91f19e281c19"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-58ad6cc55ad74620b96e91f19e281c19"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10049160"/>
            <input type="hidden" name="enc_work" id="enc_work" value="ca1c8eb1f54d0b1a457062ddd273d478"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>腿短的女生，不适合穿（ ）的裙子。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797816"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>高腰线</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797816"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>低腰线</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797816" name="answer400797816"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797816" name="answertype400797816" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>低腰连衣裙适合（ ）的女生。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797817"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>胃部凸出&nbsp;</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797817"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>、肚子凸出</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797817" name="answer400797817"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797817" name="answertype400797817" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797816,400797817";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797816,400797817";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266270"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:52,240 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	裤子穿搭注意事项	4.4.2章节测验
2020-10-24 20:16:52,240 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:52,240 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541812207"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.4.2&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=53d1e000ef650e7aea8963d3b10dd4c6&workAnswerId=22266271" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266271"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156609"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="e724e6e723724d1482e0e658be98fa20"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-e724e6e723724d1482e0e658be98fa20"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10049716"/>
            <input type="hidden" name="enc_work" id="enc_work" value="53d1e000ef650e7aea8963d3b10dd4c6"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>牛仔短裤最好的穿搭是（&nbsp; ），才会和谐。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797788"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>配连裤袜</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797788"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>光腿穿</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797788" name="answer400797788"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797788" name="answertype400797788" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[判断题]</span>
                                    <p>大腿中上部至中部的裤子，指的是短裤</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797789"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797789"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797789" name="answer400797789" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797789" name="answertype400797789" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797788,400797789";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797788,400797789";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266271"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:52,421 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	西装职场风	4.5.2章节测验
2020-10-24 20:16:52,422 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:52,422 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541812387"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.5.2&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=428b5ecbc039c893ebd134e2a1c0d26e&workAnswerId=22266272" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266272"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="6151a9b7a2ba374e43de4a8ee13b605e"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156617"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="7418f82851a348f594ad8d3351462f14"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-7418f82851a348f594ad8d3351462f14"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10053981"/>
            <input type="hidden" name="enc_work" id="enc_work" value="428b5ecbc039c893ebd134e2a1c0d26e"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>西服内搭除衬衫外，还可以选择（）。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797765"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>保暖内衣</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797765"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>真丝背心</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797765" name="answer400797765"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797765" name="answertype400797765" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>刚参加工作和职场面试的女生建议西服搭配（）更显活力和朝气。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797766"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>直筒裙</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797766"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>连衣裙</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797766" name="answer400797766"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797766" name="answertype400797766" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797765,400797766";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797765,400797766";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266272"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:52,635 - Shuake.py[line:453] - ERROR: 女生穿搭技巧	基本款－你衣柜里必备的衣服	套头针织衫	4.6.2章节测验
2020-10-24 20:16:52,636 - Shuake.py[line:454] - ERROR: 答题出错
2020-10-24 20:16:52,636 - Shuake.py[line:455] - ERROR: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1, user-scalable=no"/>
<title>章节</title>
<link href="/css/work/phone/basic-s.css?v=2020-0415-1500" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/css-s.css?v=28.4" type="text/css" rel="stylesheet"/>
    <link href="/css/work/phone/sdo.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work/phone/sdo-opt.css?v=27" rel="stylesheet" type="text/css" />
<link href="/css/work-css-tpl.cssx?enc=a2fb87f58b4cf2f1f094e91a6234f1aa" rel="stylesheet" type="text/css" />

<link href="/css/questionBank/questionBankUsual.css?v=2019-1120-1400" type="text/css" rel="stylesheet"/><link rel="stylesheet" href="/css/work/phone/s/css/style-normal.css?v=1.0.0" />
<link rel="stylesheet" href="/css/work/phone/s/connLine-ceyan.css" />

<style>
    .Py-m1-title p {word-wrap: break-word;padding-right:0;}
    .zqu_r_span{word-wrap: break-word;word-break:break-all;}
    .answerList li {padding: 8px 0;}
    .zquestions{padding-bottom:0;}
    .zsubmit {padding: 0 0.3rem;height:0.8rem;margin:0.5rem 0;}
    pre{white-space: pre-wrap;}
    .trueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/right-green.png) no-repeat left center;background-size: 100%;}
	.halfTrueGreen{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/halfRight-green.png) no-repeat left center;background-size: 100%;}
	.falseRed{float:right;margin-right:0;width:30px;height:30px;background:url(/images/phone/wrong-red.png) no-repeat left center;background-size: 100%;}
</style>
    <link rel="stylesheet" href="/css/work/phone/s/css/style-normal-rem.css?v=2018-0904-1051"/>
    <link href="/ananas/ueditor/themes/iframe_wap_editor.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/work/phone/s/css/work-do.css?v=2018-1102-1200"/>
    <script>window.UEDITOR_HOME_URL = '/ananas/ueditor/';</script>
    <script type="text/javascript" src="/ananas/ext-4.2.0.663/wap-classes.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.config.js?v=2018-0111-2134"></script>
    <script type="text/javascript" charset="utf-8" src="/ananas/ueditor/ueditor.all.min.js?v=2019-1015-1100"></script>
    <script src="/ananas/ueditor/ueditor.parse_wap.js?v=2"></script>
    <script src="/js/phone/zepto-1.2.0.min.js"></script>
    <script src="/js/ServerHost.js"></script>
    <script src="/js/phone/protocolChaoXing/CXJSBridge.js?v=2018-0329-1557"></script>
    <script src="/js/phone/app.utils2.js?v=2019-0322-2130"></script>
    <script src="/js/phone/rem750.js"></script>
    <style>
        html, body,h1, h2, h3, h4, h5, h6{font:14px/1.5 PingFangSC,微软雅黑, 黑体, Arial, Helvetica, sans-serif}
        .Wrappadding{border: 0.02rem solid #F2F2F2;border-radius: 0.12rem;background:#fff}
        .cyTag{height:0.6rem;width:100%;background:#F8F8F8;line-height:0.6rem;border-radius:0.12rem 0.12rem 0 0;font-size:0.26rem;border-bottom: 1px solid #f2f2f2;}
        .c1{margin-left:0.3rem;font-size:0.26rem;color:#999}
        .cyTips{margin-right:0.3rem;font-size:0.26rem;color:#FF3B30}
        img {max-width: 100%;}
        .zm_boxmsg { padding: 5% 8% 5% ;font-size: 0.34rem;text-align: center;border-bottom: none;color: #999999;}
        .ans-cc p{font-size: 0.34rem;}
        .ans-cc{margin-top:0.5rem;font-size:0.34rem;}
        .ananas-editor-answer{padding:0.3rem;background-color:#fff;}
        .ans-cc td{line-height:0.4rem;}

        .blankList2 { padding: 0.2rem 0.3rem .5rem 0.3rem; font-size: 0.32rem;}
		.blankList2 li{width:100%;border-bottom:1px solid #EBEBEB;position:relative;height:.9rem;line-height:.9rem;}
		.blankList2 span {display:block;line-height: 0.9rem;width: 1.3rem;height: .9rem; position: absolute;left: 0; bottom: -2px;background:#fff;font-size:0.32rem;color:#999}
		.blankInp2{width:75%; padding:.1rem 0;line-height:.5rem;border:none;display:inline-block;margin-left:1.3rem;border-radius:0;font-size:.32rem;background:none;}
		.Py-mian1 .blankInp2{word-wrap: normal;word-break:normal;}
        .Py-m1-title{padding:0.5rem 0.3rem 0;font-size:0.32rem;line-height:0.56rem;color:#333;}
        .quesType{color:#999}
        .answerList{padding: 0.4rem 0.3rem 0.5rem;font-size:0.32rem;line-height:0.56rem}
        .answerList li:last-child{padding-bottom:0}
        .Py-mian1{margin-top:0;box-shadow:0px -1px 0px 0px #f2f2f2;border-top:none;}
        .py-Title{overflow: hidden;background:#fff;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;padding:0 0.3rem;font-size:0.34rem;line-height:0.46rem;border:none;margin:0.36rem 0}
        .answerList li >em{border:0.02rem solid #0099FF;margin-right:0.2rem}
        .multiChoice li >em{border-radius: 0.12rem;width:0.64rem;height:0.64rem;line-height:0.64rem}
        .Briefanswer{margin-top:0.3rem;border-bottom:none;}
        .btn-ok-bottom{float:right;width:2.98rem;height:0.78rem;border:1px solid #0099ff;background:#0099ff;color:#FFF;font-size:0.32rem;line-height:0.78rem;}
        .save{float:left;width:3rem;height:0.8rem;}
        .btn-save{width:2.98rem;height:0.78rem;border:1px solid #0099ff;color:#0099ff;font-size:0.32rem;line-height:0.78rem;}
        .BanswerIcon{border-top:none}
        .answerpla,.answerExplain,.sortQuesSelect{border-top:none;}
        .jdt{border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;}
        .cyTips{padding-top:.1rem;color: #FF8800;padding:0 .3rem;margin-bottom:.36rem;display:block}
        .time-icon{display:inline-block;width:.26rem;height:.26rem;background:url("/images/work/phone/time-icon.png") no-repeat;background-size:100%;vertical-align: middle;margin-right: .1rem;}
    </style>


    <script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script>    <script src="/js/phone/touch-1.2.0.js"></script>
    <script src="/static/js/domain.js"></script>
    <script type="text/javascript" src="/space/doworkinphone/js/prettyCheckboxes.js"></script>
    <script src="/ananas/space/exam/js/enc_js_work.js?v=1603541812596"></script>
    <script src="/js/phone/rem750.js"></script>
    <script src="/js/work/phone/ceyan-attach.js?v=2020-0404-1216"></script>
    <script>
        var editors = new Array();
		var placeholderTip = '<span style="color:#ccc;font-size:16px;">输入答案</span>';
		window.UEDITOR_CONFIG.imagePopup = false;
    </script>
    <script src="/js/exam/phone/testPaperUtils.js?v=2020-0625-1900"></script>
</head>
<body>
<div class="Wrappadding">
                    <div class="cyTag">
            <span class="fl c1">章节测验</span>
                            <span class="fr cyTips">
                                                                                                                                    </span>
            
        </div>
        <h3 class="py-Title fs16" style="margin: 0.36rem 0 0 0;">
            4.6.2&#31456;&#33410;&#27979;&#39564;
        </h3>

        
        <form action="/work/addStudentWorkNew?keyboardDisplayRequiresUserAction=1&_classId=31907027&courseid=214553024&token=1d45f091f9ac4845ae589e63fc4a3771&workAnswerId=22266273" method="post" name="form1" id="form1" >
            <!--是否提交还是暂不提交-->
            <input type="hidden" name="pyFlag" id="pyFlag"/>

            <!--需要传递的参数-->
            <input type="hidden" name="courseId" id="courseId" value="214553024"/>
            <input type="hidden" id="classId" name="classId" value="31907027" />
            <input type="hidden" name="api" id="api" value="1"/>
            <input type="hidden" name="mooc" id="mooc" value="0"/>
            <input type="hidden" name="workAnswerId" id="workAnswerId" value="22266273"/>
            <input type="hidden" name="totalQuestionNum" id="totalQuestionNum" value="cd8c29480d9c16f5a675e8c2c459245c"/><!--总题数-->
            <input type="hidden" name="fullScore" id="fullScore" value="100.0"/><!--满分-->
            <input type="hidden" name="knowledgeid" id="knowledgeid" value="349156622"/><!--章节id-->
            <input type="hidden" name="oldSchoolId" id="oldSchoolId" value=""/><!--原始作业单位id-->
            <input type="hidden" name="oldWorkId" id="oldWorkId" value="00cf00ddea3a4cfca6041bacf4379335"/><!--最原始原始作业id-->
            <input type="hidden" name="jobid" id="jobid" value="work-00cf00ddea3a4cfca6041bacf4379335"/>
            <input type="hidden" name="workRelationId" id="workRelationId" value="10054282"/>
            <input type="hidden" name="enc_work" id="enc_work" value="1d45f091f9ac4845ae589e63fc4a3771"/>
            <input type="hidden" name="isphone" id="isphone" value="true"/>
            <input type="hidden" id="userId" name="userId" value="146189992"/>

            <div class="zquestions">
                                                                                                                                    

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    1.<span class="quesType">[单选题]</span>
                                    <p>脖子短的女生，不适合穿（）针织衫。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797813"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>圆领</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797813"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>高领</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797813" name="answer400797813"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797813" name="answertype400797813" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    2.<span class="quesType">[单选题]</span>
                                    <p>穿羊毛衫裙配靴子，款式是（ &nbsp;），就会更有气场。</p>
                                                                    </div>
                                                                                                            <ul class="answerList singleChoice">
        	    	<li id-param="400797814"   class="clearfix" >
					<em id-param="A">A</em>
					<p>
												<cc><p>过膝</p></cc>
					</p>
		</li>
    		    	    	<li id-param="400797814"   class="clearfix" >
					<em id-param="B">B</em>
					<p>
												<cc><p>不过膝</p></cc>
					</p>
		</li>
    		</ul>

							<input type="hidden" id="answer400797814" name="answer400797814"   value="" class="answerInput"/>
		<input type="hidden" id="answertype400797814" name="answertype400797814" value="0"/>
	
                                                                                                        </div>
                            </div>
                                                                                                                                                                

                                                                                    
							
                                                        <div class="Py-mian1">
                                <div>
                                <div class="Py-m1-title fs16">
                                    3.<span class="quesType">[判断题]</span>
                                    <p>紧身针织衫可以作为羽绒服、大衣的内搭，除黑色外，百搭色还有米色。</p>
                                                                    </div>
                                                                                                            <ul class="answerList panduan">
  <li  val-param="true" id-param="400797815"  class="clearfix"  ><em>A</em><p>对</p></li>
  <li  val-param="false" id-param="400797815"  class="clearfix"  ><em>B</em><p>错</p></li>
</ul>


  <input type="hidden" id="answer400797815" name="answer400797815" value="" class="answerInput"/>
  <input type="hidden" id="answertype400797815" name="answertype400797815" value="3"/>
                                                                                                        </div>
                            </div>
                                                                            <input type="hidden" id="answerwqbid" name="answerwqbid"/>
                                                            <div class="zsubmit">
                            <button type="button" class="btn-ok-bottom" onclick="toadd();">提交</button>
                            <div class="save">
                                <button type="button" class="btn-save" onclick="noSubmit();">保存</button>
                            </div>
                        </div>
                                                </div>

        </form>
    </div>
<script>
 $(function(){
    //美化checkbox/radio
    $('body input[type=checkbox],body input[type=radio]').prettycheckradio({
        prettyW:30,
        prettyH:30
    });
});
</script>
<script>
    $(function(){

            $("input[type='text'],textarea").bind('change', function(e) {
                controlEmoticons(this);
             });

            window.setInterval(function(){
                try{
                    parent.dynIframeSize(parent.document.getElementById("frame_content"));
                }catch(e){}
            }, 200);

            $(".singleChoice li").click(function(){
                $(this).addClass("cur").siblings().removeClass("cur");
                var inpId = "answer" + $(this).attr("id-param");
                var val = $(this).find("em").attr("id-param");
                $("#" + inpId).val(val);
            });

            $(".multiChoice li").toggle(
               function(){
                    $(this).addClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param")
                        }
                    });
                    $("#" + name).val(answerStr);
              },
              function(){
                    $(this).removeClass("cur");
                    var name = "answers" + $(this).attr('id-param');
                    var answerStr = "";
                    $(this).parent().find("li").each(function(index,element){
                        if($(element).hasClass("cur")){
                            //answerStr += $(element).find("em").text();
                            answerStr += $(element).find("em").attr("id-param");
                        }
                    });
                    $("#" + name).val(answerStr);
                }
              );

                $(".voteQuestionSingle li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
                    var name = "answer" + $(this).attr("id-param");
                    //var val = $(this).find("em").text();
                    var val = $(this).find("em").attr("id-param");
                    $("#" + name).val(val);
                });

                $(".voteQuestionMulti li").toggle(
                    function(){
                        $(this).addClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                  },
                  function(){
                        $(this).removeClass("cur");
                        var name = "answer" + $(this).attr('id-param');
                        var answerStr = "";
                        $(this).parent().find("li").each(function(index,element){
                            if($(element).hasClass("cur")){
                                //answerStr += $(element).find("em").text();
                                answerStr += $(element).find("em").attr("id-param");
                            }
                        });
                        $("#" + name).val(answerStr);
                    }
             );

              $(".panduan li").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur")
                    var data = $(this).attr("val-param");
                    var id_param = $(this).attr("id-param");
                    var name = "answer" + id_param;
                    $("#" + name).val(data);
              });

              $(".sortQuesSelect li .selDiv span").click(function(){
                    var me = $(this);
                    if(me.hasClass("selItemBtn")){
                        me.removeClass("selItemBtn");
                        // me.siblings("div").hide();
                    }else{
                        me.addClass("selItemBtn");
                        me.siblings("span").removeClass("selItemBtn");
                        // me.siblings("div").hide();
                        // me.siblings("div."+me.html()).show();
                    }
                    var questionId = me.parent().parent().parent().attr("id");
                    setSortQuesAnswer(questionId);
                    try{
                        parent.dynIframeSize(parent.document.getElementById("frame_content"));
                    }catch(e){}
                });

             $(".clozeBlank .choice").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .single,.judge").click(function(){
                    $(this).addClass("cur").siblings().removeClass("cur");
             });
             $(".readComprehension .mult").toggle(
                   function(){
                        $(this).addClass("cur");
                   },
                   function(){
                       $(this).removeClass("cur");
                   }
             );
    });

     function setSortQuesAnswer(questionId){
        var answerStr = $("#"+questionId).find("li").map(function() {
               if($(this).find(".selItemBtn").length > 0){
                  return $(this).find(".selItemBtn").text();
               }else{
                  return "-";
               }
        }).get().join('');
        $("#answer"+questionId).val(answerStr);
     }


    //设置答案【新完型填空、新阅读理解】
    function setCompoundQuesAnswer(){
        var input_clozeTextQues=$("input[name^='answertype'][value='14']");
        input_clozeTextQues.each(function(){
             var answer=getClozeTextAnswer(this);
             //console.log("clozetext:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues=$("input[name^='answertype'][value='15']");
        $(input_readComprehensionQues).each(function(){
             var answer=getReadComprehensionAnswer(this);
            // console.log("readComprehension:"+answer);
             $(this).next().val(answer);
        });

        var input_readComprehensionQues = $("input[name^='answertype'][value='19']");
		$(input_readComprehensionQues).each(function(){
			var answer = getReadComprehensionAnswer(this);
			$(this).next().val(answer);
        });
   }

   //获取新完型填空答案
   function getClozeTextAnswer(obj){
        var answerObj={};
        var choiceList=$(obj).parent().find(".clozeBlank");
        choiceList.each(function(index,obj) {
                   var itemId = $(obj).attr("data-itemId");
                   var val ="";
                   var checkLi=$(obj).find(".cur");
                   if(checkLi.length > 0){
                        val=$(checkLi).find("em:first").attr("id-param") || "";
                    }
                    var pair = {};
                    pair.answer = val;
                    answerObj[itemId] = pair;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }

   //获取新阅读理解答案
   function getReadComprehensionAnswer(obj){
        var answerObj={};
        var quesList=$(obj).parent().find("input[name='readCompreHension-childType']");
        quesList.each(function(index){
            var type=$(this).val();
            var itemId=$(this).next().val();
            var ul=$(this).next().next();
            var itemAnswer="";
            switch(parseInt(type)){
                case 0:
                case 3:{
                    var checkLi=ul.find(".cur") ;
                    if(checkLi.length > 0){
                        itemAnswer=checkLi.find("em:first").text();
                    }
                    if(type==3){
                        itemAnswer=itemAnswer?(itemAnswer=="A"?true:false):itemAnswer;
                    }
                    break;
                }
                case 1:{
                    ul.find(".cur").each(function() {
                        itemAnswer +=$(this).find("em:first").text();
                    });
                    break;
                }
                case 2:{
                      var answerItem=[];
                      var blankInput=ul.find("input[type='text']") || [];
                      blankInput.each(function(index,obj){
                          var blankInput = $(obj).val();
                          if (typeof blankInput == "string") {
                              blankInput = blankInput.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                          }
                        var item={};
                        item.content=blankInput;
                        var i= index +1;
                        item.name=i.toString();
                        answerItem.push(item);
                    });
                    itemAnswer=answerItem;
                    break;
                }
                case 4:{
                    var textarea=ul.find("textarea");
                    itemAnswer=textarea.length ==1 ? textarea.val():"";
                    break;
                }
                default: { }
            }

            var info={};
            info.type=parseInt(type);

            info.answer=(itemAnswer!=undefined?itemAnswer:"");
            answerObj[itemId]=info;
        });
        var answer=[];
        answer.push(answerObj);
        var answerStr=JSON.stringify(answer);
        return answerStr;
   }
</script>

<script type="text/javascript">
    $(".zquestions  img:not(.noimg)").each(function () {
	var imgSrc = $(this).attr('src');
	$(this).click(function(){
		top.jsBridge.postNotification("CLIENT_PREVIEW_IMAGES", {
			imageUrls : [{
				imageUrl : imgSrc,
				getOriginSize : 1
			}],
			showIndex : 0
		});
	})
})
function toadd(){
    $("#pyFlag").val("");
    var a = "400797813,400797814,400797815";
    synUeditorContent2FormField();
    /*
    var legal = true;
    $("textarea").each(function(){
        var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var content = $(this).val();
        if(patt.test(content)){
            legal = false
        }
    });
    if(!legal){
        openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
        return ;
    }
    */

    $("#answerwqbid").val(a);
    var jiandaId = "";
    var wordNum = "";
    var flagAnswer = true;

        if(parseInt(wordNum) > 0) {
            if(jiandaId != "") {
                var jiandaIdArr = jiandaId.split(",");
                for(var i=0;i<jiandaIdArr.length;i++) {
                    var temp = $("#answer" + jiandaIdArr[i]).val();
                    if((wordNum != "" && removeAllSpace(temp, i).length < parseInt(wordNum)) || (wordNum != "" && removeAllSpace(temp, i) == "")) {
                        alert("您最少输入" + wordNum + "个字");
                        flagAnswer = false;
                        break;
                    }
                }
            }
        }

        if(!flagAnswer) {
            return;
        }

        var questionIds = a.split(",");
        var flag = false;
        var tipStr = "";
    for (var i = 0; i < questionIds.length; i++) {
            var id = questionIds[i];
            var type = $("#answertype" + id).val();
            if(type == "0") {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "单选题";
                    break;
                }
            } else if(type == "1") {
                //多选
                var answer = $("#answers" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "多选题";
                    break;
                }
            } else if(type == "2" || type == "9" || type == "10") {
                //填空
                var blankNum = $("input[name=tiankongsize"+id+"]").val();
                var isBlank = false;
                for(var j=1;j<=parseInt(blankNum);j++) {
                    var answer = $("input[name=answer" + id + j + "]").val();
                    if (typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        isBlank = true;
                        break;
                    }
                }
                if(isBlank) {
                    var typeTip="填空题";
                    typeTip=(type == "2" ? "填空题" : (type=="9" ? "分录题" : "资料题"));
                    tipStr = typeTip;
                    flag = true;
                    break;
                }
            } else if(type == "3") {
                //判断
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "判断题";
                    break;
                }
            } else if(type == "11") {
                //连线题
                var answer = $("#answer" + id).val();
                if(answer!=""){
                    var answer_array= JSON.parse(answer);
                    for(var index in answer_array){
                        var content=answer_array[index].content;
                        if(typeof(content) == "undefined" || removeAllSpace(content).length == 0){
                            flag = true;
                            tipStr = "连线题";
                            break;
                        }
                    }
                }else{
                    flag = true;
                    tipStr = "连线题";
                    break;
                }
            }else if(type == "12"){
                                    var answer = $("input:radio[name=answer"+id+"]:checked").val();
                    if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                        flag = true;
                        tipStr = "投票题";
                        break;
                    }
                            }else if(type == "13") {
                //排序
                var answer = $("input[name=answer"+id+"]").val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "排序题";
                    break;
                }
            } else if (type == "14" || type == "15" || type == "19") {  //新完型填空、新阅读理解
                 var typeTip="完型填空";
                 if(type == "15"){
                   typeTip="阅读理解";
                 }else if(type == "19"){
                   typeTip = "听力题";
                 }
                 setCompoundQuesAnswer();
                 var answer = $("#answer" + id).val();
                 //console.log(answer);
                 var answer_array= JSON.parse(answer);
                 var answerContent=answer_array[0];
                 for(var key in answerContent){
                         var content=answerContent[key];
                         var answerStr=content.answer;
                         var innerType=content.type;
                         if(innerType && innerType == 2){
                             for(var index in answerStr){
                                 var item=answerStr[index];
                                 var content=item.content;
                                 if(content==""||content.length==0){
                                   flag=true;
                                   break;
                                 }
                             }
                         }
                         if(innerType==3){
                           answerStr=answerStr.toString();
                         }
                         if(flag || answerStr =="" || answerStr.length == 0){
                            flag = true;
                            break;
                          }
                  }
                 if(flag){
                   tipStr = typeTip;
                   break;
                  }
            } else {
                var answer = $("#answer" + id).val();
                if(typeof(answer) == "undefined" || removeAllSpace(answer).length == 0) {
                    flag = true;
                    tipStr = "简答题";
                    break;
                }
            }
        }
        
        setCompoundQuesAnswer();
        
        if (flag) {
			if (confirm("您还有未做完的" + tipStr + "，确认提交吗？")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			} else {
				return;
			}
		} else {
			if (confirm("确认提交?")) {
				openWindowHint(HINT_TYPE_TIME, '', '正在提交', null, 500);
				escapeBlank();
				submitAction();
			}
		}
    }
    
    var submitLock = 0;
	function submitAction() {
		function version(url) {
			var pos = "";
			try {
				pos = getEnc();
			} catch (e) {}
			url += '&ua=' + clientType();
			url += '&formType2=' + getformType();
			url += '&saveStatus=' + 1;
			url += '&pos=' + pos;
		
			var re = /&version=(\d)/;
			var version = 1;
			if (re.test(url)) {
				var arr = re.exec(url);
				version += parseInt(arr[1]);
				url = url.replace(re, '&version=' + version);
			} else {
				url = url + '&version=1';
			}
		
			return url;
		}
		
		if (submitLock != 0) {
			return false;
		}
		submitLock = 1;
	
		var ajax_url = version(document.form1.action);
		var ajax_type = $("#form1").attr("method");
		var ajax_data = $("#form1").serialize();
	
		$.ajax({
			type : ajax_type,
			url : ajax_url,
			data : ajax_data,
			dataType : "json",
			success : function(data) {
				if ( !data.status) {
					openWindowHint(HINT_TYPE_TIME, "", data.msg, null, 1000);
					window.location.reload();
					return false;
				}
	
				if (data.stuStatus == 5) {
					openConfirmHint("很遗憾，未达到及格线，请重做", "确定", "取消", function() {
						var url = ServerHost.moocDomain + data.backUrl;
						window.location.href = url;
					}, function() {
						var url = ServerHost.moocDomain + data.url;
						window.location.href = url;
					});
				} else {
					var url = ServerHost.moocDomain + data.url;
					window.location.href = url;
				}
			}
		});
	}
	
	function processOpenUrl(url, title, loadType) {
		top.jsBridge.postNotification('CLIENT_OPEN_URL', {
			"title" : title,
			"loadType" : loadType,
			"webUrl" : url
		});
	}
    
    //对填空题答案中的 >和<进行转义
    function escapeBlank() {
        if ($('.escapeInput').length > 0) {
            $('.escapeInput').each(function () {
                //转义填空题作答内容
                var answer = $(this).val();
                if (typeof answer == "string") {
                    answer = unhtml(answer);
                    $(this).val(answer);
                }
            })
        }
    }

    function unhtml(input) {
        if (!input || input.length == 0) {
            return input;
        }
        var newInput = input.replace(/[&<">']/g, function (a, b) {
            return {
                '<': '&lt;',
                '&': '&amp;',
                '"': '&quot;',
                '>': '&gt;',
                "'": '&#39;'
            }[a];
        });
        return newInput;
    }

    function removeAllSpace(str, value) {
        return str.replace(/<\s?img[^>]*>/gi, "图片").replace(/<\s?iframe[^>]*>/gi, "音频").replace(/<[^>]+>/g, "").replace(/&nbsp;/ig, "").replace(/\s+/g, "");
    }

    function noSubmit(){
        var a = "400797813,400797814,400797815";
        $("#answerwqbid").val(a);
        $("#pyFlag").val("1");
        synUeditorContent2FormField();
        /*
        var legal = true;
        $("textarea").each(function(){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var content = $(this).val();
            if(patt.test(content)){
                legal = false
            }
        });
        if(!legal){
            openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                },3000);
            return ;
        }
      */

        setCompoundQuesAnswer();
        //临时保存或时间到系统自动提交试卷
        var ajax_url = "/work/addStudentWorkNew?_classId="+$("#classId").val()+"&courseid="+$("#courseId").val()+"&token="+$("#enc_work").val()+"&workAnswerId=22266273"; //表单目标
        var ajax_type = $("#form1").attr('method'); //提交方法 
        var ajax_data = $("#form1").serialize(); //表单数据
        ajax_url += '&ua='+clientType();
        ajax_url += '&formType2=' + getformType();
        ajax_url += '&saveStatus=' + 1;
        ajax_url += '&version=1';
        jQuery.ajax({
            type : ajax_type,
            url : ajax_url,
            data :ajax_data,
            dataType : "json",
            success : function(data){
                if (data.status) {
					alert("保存成功");
					window.location.reload();
				} else {
					alert(data.msg);
				}
            }
        });
    }

    Zepto(function(){
        Zepto(".selLineList li .selDiv span").tap(function(){
            var me = Zepto(this);
            if(me.hasClass("selItemBtn")){
                me.removeClass("selItemBtn");
                me.parent().next().val("");
                me.siblings("div").hide();
            }else{
                me.addClass("selItemBtn");
                me.siblings("span").removeClass("selItemBtn");
                me.siblings("div").hide();
                me.siblings("div."+me.html()).show();
                me.parent().next().val(me.html());
            }
            setConnLineAnswer(me);

            try{
                parent.dynIframeSize(parent.document.getElementById("frame_content"));
            }catch(e){}

        });

    })

    function clientType(){
        var userAgent = navigator.userAgent;
        var ua = "pc";
        try{
            if(userAgent.indexOf("ChaoXingStudy") > -1){
                ua = "app";
            }
        }catch(e){}

        return ua;
    }

    function getformType(){
        var form_type = $("#form1").attr('method'); //提交方法 
        if(form_type){
            return form_type;
        }
        return "post2";
    }

    //连线题处理
    function getOneConnLineAnswer(obj){
        var answerPair=[];
        $(obj).each(function(index){
            var checked=$(this).val();
            var obj={};
            obj.name=(index+1);
            obj.content=(checked);
            answerPair.push(obj);
        });
        return JSON.stringify(answerPair);
    }

    function setConnLineAnswer(dataOption){
        var questionId = dataOption.attr("data-id");
        var curlSelLineList = dataOption.parent().parent().parent();
        var answerLineSelect = curlSelLineList.find("input[name='answerLineSelect']");
        var answer = getOneConnLineAnswer(answerLineSelect);
        $("#answer"+questionId).val(answer);
    }

     function paste(){
        openWindowHint(HINT_TYPE_TIME,'','该作业不允许粘贴答案',null,2000);
    }

    function controlEmoticons(obj , isEditor){
            var patt =  /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
            var input="";
            if(isEditor){
                input= obj.getContent();
             }else{
                input=$(obj).val();
             }
            if(patt.test(input)){
                openWindowHint(HINT_TYPE_TIME,'','含有不支持的表情或字符',function(){
                    input=input.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, '');
                    if(isEditor){
                       obj.setContent(input);
                     }else{
                       $(obj).val(input);
                     }
                },1000);
                return ;
            }
    }
	
	function synUeditorContent2FormField(){
    	try{
        	    if(typeof(editors) == 'undefined' || editors.length == 0){
        		   return;
        		}
        		for(var i = 0; i < editors.length ; i++){
        		     var editor = editors[i];
        			 if(!editor){
        			   continue;
        			 }
        			 var ueditor = editor.ueditor;
        			 ueditor && ueditor.fireEvent('contentChange');
        		}
    	 }catch(error){}
	}
</script>
<link rel="stylesheet" href="/css/phone/hint750.css?v=2019-0320-1736" />
<div id="msg" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok">确定</span>
			<span class="msg-content-right msg-content-cancel">取消</span>
		</div>
	</div>
</div>
<div id="hint" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="hint-content-left msg-content-cancel">确定</span>
		</div>
	</div>
</div>
<div id="time" class="rescan_main">
	<div class="msg-title">title</div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
	</div>
</div>
<div id="confirm" class="rescan_main">
	<div class="msg-title"></div>
	<div class="msg-content">
		<div class="msg-content-middle"></div>
		<div class="msg-content-b">
			<span class="msg-content-left msg-content-ok"></span>
			<span class="msg-content-right msg-content-cancel"></span>
		</div>
	</div>
</div>

<div id="confirmNew" class="rescan_mainNew">
	<div class="msg-title"></div>
	<div class="msg-contentNew">
		<div class="msg-content-middleNew"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew"></span>
			<span class="msg-content-rightNew msg-content-cancelNew"></span>
		</div>
	</div>
</div>

<div id="noticeConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="monitorForceSubmitConfirm" class="rescan_mainNew" style="height:3.2rem;">
	<div class="notice-title" style="color:red;"></div>
	<div class="msg-contentNew">
		<div class="notice-content-middle"></div>
		<div class="msg-content-bNew" style="color:#333;">
			<span class="msg-content-leftNew msg-content-okNew" style="width:100%;"></span>
		</div>
	</div>
</div>

<div id="mask" class="black_overlay"></div>
<script src="/js/phone/hint.js?v=2020-0511-1506"></script><!--处理audio 播放 -->
<link type="text/css" rel="stylesheet" href="/ananas/modules/audio/AudioPlayer2/audioplayer.css?t=20151210" />
<style>
.audioReader{width: 100%;height: 70px;} .audioplayer {height: 60px;width: 95%;left: 4%;top: 10px; }
</style>
<script type="text/javascript" src="/js/common/jquery.min.js"></script>
<script type="text/javascript" src="/js/common/jquery-migrate.min.js"></script><script type="text/javascript">
 jQuery.noConflict(); 
</script>
<script type="text/javascript" src="/ananas/modules/audio/AudioPlayer2/audioplayer.js?t=20151210"></script>
<script type="text/javascript">
function formatTime(duration) {
    if (!duration) {
        return '00:00'; 
    }
    var m = Math.floor(duration / 60);
    var s = Math.ceil(duration % 60);
    return (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s); 
}

function renderAudio(object,data,index) {
    var showName = data.name;
    var http=data.http;
    duration  = data.duration;
    var html = [
        '<audio preload="none" controls>',
        '<source src="'+http+'" />',
        '</audio>'
    ].join('');
    
    var audioId="audio_"+index;
    var audioDiv='<div class="audioReader" id="'+audioId+'"></div>';
    jQuery(object).parent().html(audioDiv);
  
    jQuery("#"+audioId).html(html);
    jQuery("#"+ audioId +" audio").audioPlayer({
        title: showName,
        duration: data.duration
    });
}

jQuery(document).ready(function() {
  try{
       var audios=jQuery("object[type='application/x-shockwave-flash']");
       audios.each(function(index){
          if(jQuery(this).attr("data").indexOf('audioplayer') < 0) {
             return true;
          }
           var url=jQuery(this).find("param[name='flashvars']").val();
           var offset=url.indexOf("http");
           var http=url.substring(offset);
           var audioName=jQuery(this).prev().text();
           var data={"name":audioName,"http":http};
           renderAudio(this,data,index);
       });
 }catch(e){ }
});
</script> 


<!--处理video 播放 -->
<script>
function videoPlay(object,data,index){
       var playOuterDiv=[ '<div class="zcenter">',
            '<div class="zbanner">',
                    '<div id="zvideo_'+index+'" style="width:733;height:434;" width="733" height="434">',
                        '<div id="moocplayer_'+index+'"></div>',
                   ' </div>',
           '</div>',
       ' </div>'].join('');
     jQuery(object).parent().html(playOuterDiv);
	  jQuery('#moocplayer_'+index).html([
			'<video width="100%" height="100%"  poster="' + data.coverUrl+ '" preload="none"  controls="controls" webkit-playsinline>',
			'<source type="video/mp4" src="' +data.http+ '"></source>',
			'</video>'
			].join(''));
     var zplay=document.getElementById("zvideo_"+index);
     zplay.style.display="block";
     jQuery("#moocplayer_"+index+" div").css("width","87.5%");
  } 
  
  
  function checkAppVersion(versonControl_android,versonControl_ios){
        var versonControl ="";
        var userAgent = navigator.userAgent;
        var offset = userAgent.indexOf("ChaoXingStudy_");
        var stop = 0;
        if(userAgent.indexOf("_ios_phone") > -1){
            stop = userAgent.indexOf("_ios_phone");
            versonControl = versonControl_ios;
        }else if(userAgent.indexOf("_android_phone") > -1){
            stop = userAgent.indexOf("_android_phone");
            versonControl = versonControl_android;
        }
        var versionStr = userAgent.substring(offset+14,stop);
        versionStr = versionStr.split('_')[1];
        if(versionStr == undefined){
            return false;
        }
        versionStr = versionStr.replace(/_|\./g,"");
        return versionStr+'' >= versonControl;
    }
  
  jQuery(document).ready(function(){
   try{
       var maybeVideos=jQuery("a[href^='/ueditorupload/read?objectId']");
       maybeVideos.each(function(index){
           var videoName=jQuery(this).text();
           if(!videoName.endsWith(".mp4")){
              return true;
           }
           if(!checkAppVersion("3039","1000")){
               jQuery(this).attr("href","javascript:void(0);");
               jQuery(this).on('tap',function(){
                   openWindowHint && openWindowHint(HINT_TYPE_TIME,'',"暂不支持打开",null, 1000);
               });
               return true;
           }
           
           var me=this;
           var objectId=jQuery(this).attr("href").replace('/ueditorupload/read?objectId=','');
           // 获取objectId出错
           if (objectId.indexOf('&') > 0) {
               objectId = objectId.substring(0, objectId.indexOf('&'))
           }
           jQuery.ajax({
              type : 'get',
              url : '/ananas/status/'+objectId,
              dataType:'json',
               success : function(data){
                  var status=data.status;
                  if(status == 'success'){
                    var coverUrl=data.screenshot;
                    var http=data.http;
                    var data={"coverUrl":coverUrl,"http":http};
                    videoPlay(me,data,index);
                  }
               }
           });
       });
      }catch(e){ }   
        
	});
</script></body>
<style>
    .edui-default .edui-editor {
        border: none;
    }

    .hint-content-left {
        border: 0px;
    }
    #time{width:6rem;margin-left:-3rem;bottom: 2rem;top: auto;}
    #time .msg-content-middle{padding:0.5rem 0;line-height: 0.32rem;;}
</style>
<script>
    $(".ans-cc object").css("display", "none");
    var isNewVersion = AppUtils.isNewVersionNew(7);
    var isNewVersion45 = AppUtils.isNewVersionNew(45);
    $(document).ready(function () {
        if (isNewVersion) {
            $(".BanswerIcon").show();
        }

        if (!isNewVersion45) {
            $(".addAttachClass").hide();
        }
    });


</script>
<link rel="stylesheet" href="/css/statistic/phone/circle.css?v=1" />
<div class="Wrappadding" id="Wrappadding">
	<div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span></div>
</div>
</html>
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 374, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 20:16:52,770 - Shuake.py[line:198] - INFO: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 192, in get_cards_info
    cardsInfo = re.search(r"window.AttachmentSetting =(.*?);\n", response).group(1)
AttributeError: 'NoneType' object has no attribute 'group'
2020-10-24 20:16:52,770 - Shuake.py[line:199] - INFO: 18925468581	获取视cards息失败
2020-10-24 20:20:16,526 - Shuake.py[line:624] - INFO: 运行
2020-10-24 20:20:16,711 - Shuake.py[line:99] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 90, in init_clazzList
    clazzList = response.json()["channelList"]
KeyError: 'channelList'
2020-10-24 20:20:16,711 - Shuake.py[line:100] - INFO: 18925468581	获取班级列表失败
2020-10-24 20:20:16,711 - Shuake.py[line:154] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 109, in init_knowledegList
    for courseid in self.clazzList:
AttributeError: 'Shuake' object has no attribute 'clazzList'
2020-10-24 20:20:16,711 - Shuake.py[line:155] - INFO: 18925468581	获取课程列表失败
2020-10-24 20:20:29,408 - Shuake.py[line:624] - INFO: 运行
2020-10-24 20:20:29,608 - Shuake.py[line:99] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 90, in init_clazzList
    clazzList = response.json()["channelList"]
KeyError: 'channelList'
2020-10-24 20:20:29,609 - Shuake.py[line:100] - INFO: 18925468581	获取班级列表失败
2020-10-24 20:20:29,610 - Shuake.py[line:154] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 109, in init_knowledegList
    for courseid in self.clazzList:
AttributeError: 'Shuake' object has no attribute 'clazzList'
2020-10-24 20:20:29,610 - Shuake.py[line:155] - INFO: 18925468581	获取课程列表失败
2020-10-24 20:21:49,211 - Shuake.py[line:624] - INFO: 运行
2020-10-24 20:23:40,885 - Shuake.py[line:624] - INFO: 运行
2020-10-24 20:23:41,068 - Shuake.py[line:99] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 90, in init_clazzList
    clazzList = response.json()["channelList"]
KeyError: 'channelList'
2020-10-24 20:23:41,069 - Shuake.py[line:100] - INFO: 18925468581	获取班级列表失败
2020-10-24 20:23:41,069 - Shuake.py[line:154] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 109, in init_knowledegList
    for courseid in self.clazzList:
AttributeError: 'Shuake' object has no attribute 'clazzList'
2020-10-24 20:23:41,070 - Shuake.py[line:155] - INFO: 18925468581	获取课程列表失败
2020-10-24 20:25:52,985 - Shuake.py[line:624] - INFO: 运行
2020-10-24 20:25:53,202 - Shuake.py[line:99] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 90, in init_clazzList
    clazzList = response.json()["channelList"]
KeyError: 'channelList'
2020-10-24 20:25:53,203 - Shuake.py[line:100] - INFO: 18925468581	获取班级列表失败
2020-10-24 20:25:53,204 - Shuake.py[line:154] - ERROR: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 109, in init_knowledegList
    for courseid in self.clazzList:
AttributeError: 'Shuake' object has no attribute 'clazzList'
2020-10-24 20:25:53,204 - Shuake.py[line:155] - INFO: 18925468581	获取课程列表失败
2020-10-24 20:26:20,152 - Shuake.py[line:624] - INFO: 运行
2020-10-24 20:27:03,055 - Shuake.py[line:454] - ERROR: 女生穿搭技巧	选对色彩衬肤色	印花与身材和肤色的穿搭方法	3.3.2章节测验
2020-10-24 20:27:03,056 - Shuake.py[line:455] - ERROR: 答题出错
2020-10-24 21:01:25,988 - Shuake.py[line:621] - INFO: 运行
2020-10-24 21:01:44,611 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	课程导论	章节测验	课程导论
2020-10-24 21:01:44,611 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 424, in dati
    data[submit["id"]]+= formAns.text.split("\n")[1]
KeyError: 'answers400100853'
2020-10-24 21:01:53,797 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	人文研究中的规范与伦理	章节测验	人文研究中的规范与伦理
2020-10-24 21:01:53,797 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 424, in dati
    data[submit["id"]]+= formAns.text.split("\n")[1]
KeyError: 'answers400100860'
2020-10-24 21:01:54,190 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	哲学视野中的学术规范	章节测验	哲学视野中的学术规范
2020-10-24 21:01:54,190 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 371, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 21:01:54,545 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	问题意识、伦理规范与研究呈现	章节测验	问题意识、伦理规范与研究呈现
2020-10-24 21:01:54,546 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 371, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 21:01:54,610 - Shuake.py[line:516] - INFO: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 506, in get_read_time
    ('jobid', cardInfo["jobid"]),
KeyError: 'jobid'
2020-10-24 21:01:54,610 - Shuake.py[line:517] - INFO: 18925468581	获取分数信息失败
2020-10-24 21:01:54,914 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	史学研究的“规矩”	章节测验	史学研究的“规矩”
2020-10-24 21:01:54,914 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 371, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 21:01:55,312 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	《以学术为志业》解读	章节测验	《以学术为志业》解读
2020-10-24 21:01:55,312 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 371, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 21:01:55,374 - Shuake.py[line:516] - INFO: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 506, in get_read_time
    ('jobid', cardInfo["jobid"]),
KeyError: 'jobid'
2020-10-24 21:01:55,375 - Shuake.py[line:517] - INFO: 18925468581	获取分数信息失败
2020-10-24 21:01:55,633 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	咬定青山不放松：一个人的学问史	章节测验	咬定青山不放松：一个人的学问史
2020-10-24 21:01:55,633 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 371, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 21:01:55,694 - Shuake.py[line:516] - INFO: 
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 506, in get_read_time
    ('jobid', cardInfo["jobid"]),
KeyError: 'jobid'
2020-10-24 21:01:55,694 - Shuake.py[line:517] - INFO: 18925468581	获取分数信息失败
2020-10-24 21:01:55,996 - Shuake.py[line:451] - ERROR: 学术规范与学术伦理	人文研究中的若干问题	章节测验	人文研究中的若干问题
2020-10-24 21:01:55,996 - Shuake.py[line:452] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 371, in dati
    ('workAnswerId', params_info["workAnswerId"]),
KeyError: 'workAnswerId'
2020-10-24 21:06:30,365 - Shuake.py[line:621] - INFO: 运行
2020-10-24 21:09:32,106 - Shuake.py[line:622] - INFO: 运行
2020-10-24 21:09:58,829 - Shuake.py[line:339] - ERROR: 搜索答案出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 326, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "D:\Anaconda3\envs\DeepLearning\lib\socket.py", line 590, in readinto
    except timeout:
TypeError: catching classes that do not inherit from BaseException is not allowed
2020-10-24 21:09:58,832 - Shuake.py[line:452] - ERROR: 学术规范与学术伦理	课程导论	章节测验	课程导论
2020-10-24 21:09:58,832 - Shuake.py[line:453] - ERROR: 答题出错
Traceback (most recent call last):
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 401, in dati
    questionAnswer=answer(questionName)
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 326, in answer
    response = self.session.get(url).json()
  File "C:/Users/wangwen/Desktop/chaoxing_auto_Shuake/com/main/Shuake.py", line 30, in get
    return super(Session,self).get(*args,**kwargs,timeout=self.timeOut)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 543, in get
    return self.request('GET', url, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 530, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\sessions.py", line 643, in send
    r = adapter.send(request, **kwargs)
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\requests\adapters.py", line 449, in send
    timeout=timeout
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 672, in urlopen
    chunked=chunked,
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 421, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "D:\Anaconda3\envs\DeepLearning\lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    httplib_response = conn.getresponse()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "D:\Anaconda3\envs\DeepLearning\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "D:\Anaconda3\envs\DeepLearning\lib\socket.py", line 590, in readinto
    except timeout:
TypeError: catching classes that do not inherit from BaseException is not allowed
2020-10-24 21:15:43,389 - Shuake.py[line:629] - INFO: 运行
2020-10-24 21:35:41,726 - Shuake.py[line:631] - INFO: 运行
2020-10-24 21:47:22,423 - Shuake.py[line:639] - INFO: 运行
2020-10-24 21:47:27,842 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:47:27,843 - Shuake.py[line:563] - INFO: 18925468581	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:47:51,602 - Shuake.py[line:639] - INFO: 运行
2020-10-24 21:47:55,368 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:47:55,369 - Shuake.py[line:563] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:47:58,161 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:47:58,161 - Shuake.py[line:563] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:47:58,407 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:47:58,407 - Shuake.py[line:563] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:47:59,795 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:47:59,795 - Shuake.py[line:563] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:00,105 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:00,105 - Shuake.py[line:563] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:00,397 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:00,397 - Shuake.py[line:563] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:00,602 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:00,602 - Shuake.py[line:563] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:01,956 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:01,956 - Shuake.py[line:563] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:05,185 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:05,185 - Shuake.py[line:563] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:05,384 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:05,384 - Shuake.py[line:563] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:06,719 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:06,720 - Shuake.py[line:563] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:08,721 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:08,721 - Shuake.py[line:563] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:10,860 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:10,861 - Shuake.py[line:563] - INFO: 18845142702	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:12,867 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:12,868 - Shuake.py[line:563] - INFO: 18845142702	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:15,365 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:15,366 - Shuake.py[line:563] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:15,595 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:15,596 - Shuake.py[line:563] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:16,944 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:16,945 - Shuake.py[line:563] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:19,627 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:19,627 - Shuake.py[line:563] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:19,834 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:19,835 - Shuake.py[line:563] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:20,375 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:20,375 - Shuake.py[line:563] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:20,586 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:20,586 - Shuake.py[line:563] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:21,240 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:21,241 - Shuake.py[line:563] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:21,925 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:21,925 - Shuake.py[line:563] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:23,435 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:23,435 - Shuake.py[line:563] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:24,682 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:24,682 - Shuake.py[line:563] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:24,878 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:24,878 - Shuake.py[line:563] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:25,238 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:25,238 - Shuake.py[line:563] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:25,467 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:25,467 - Shuake.py[line:563] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:26,344 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:26,345 - Shuake.py[line:563] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:26,854 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:26,854 - Shuake.py[line:563] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:28,564 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:28,564 - Shuake.py[line:563] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:29,615 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:29,615 - Shuake.py[line:563] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:29,823 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:29,823 - Shuake.py[line:563] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:31,197 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:31,197 - Shuake.py[line:563] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:31,475 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:31,476 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:33,249 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:33,249 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:33,351 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:33,352 - Shuake.py[line:563] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:33,524 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:33,524 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:33,714 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:33,715 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:34,947 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:34,947 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:36,296 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:36,297 - Shuake.py[line:563] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:37,730 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:37,731 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:37,949 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:37,949 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:38,230 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:38,231 - Shuake.py[line:563] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:38,541 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:38,542 - Shuake.py[line:563] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:38,778 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:38,778 - Shuake.py[line:563] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:39,420 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:39,420 - Shuake.py[line:563] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:40,144 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:40,144 - Shuake.py[line:563] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:41,810 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:41,810 - Shuake.py[line:563] - INFO: 18925468581	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:43,293 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:43,293 - Shuake.py[line:563] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:43,517 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:43,517 - Shuake.py[line:563] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:46,646 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:46,646 - Shuake.py[line:563] - INFO: 17691183327	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:51,735 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:51,736 - Shuake.py[line:563] - INFO: 15638127287	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:48:56,682 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:48:56,682 - Shuake.py[line:563] - INFO: 18700182108	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:49:01,384 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:49:01,385 - Shuake.py[line:563] - INFO: 13098880838	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:49:06,153 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:49:06,154 - Shuake.py[line:563] - INFO: 17809297831	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:49:11,639 - Shuake.py[line:562] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 546, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:49:11,639 - Shuake.py[line:563] - INFO: 15702959565	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:32,765 - Shuake.py[line:641] - INFO: 运行
2020-10-24 21:51:37,773 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:37,774 - Shuake.py[line:565] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:40,404 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:40,404 - Shuake.py[line:565] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:40,602 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:40,603 - Shuake.py[line:565] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:41,331 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:41,331 - Shuake.py[line:565] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:41,626 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:41,627 - Shuake.py[line:565] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:41,838 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:41,840 - Shuake.py[line:565] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:42,003 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:42,003 - Shuake.py[line:565] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:44,032 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:44,033 - Shuake.py[line:565] - INFO: 18740455867	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:44,475 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:44,476 - Shuake.py[line:565] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:46,286 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:46,287 - Shuake.py[line:565] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:46,507 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:46,507 - Shuake.py[line:565] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:47,855 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:47,855 - Shuake.py[line:565] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:50,018 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:50,019 - Shuake.py[line:565] - INFO: 15829380839	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:51,697 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:51,698 - Shuake.py[line:565] - INFO: 18845142702	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:53,688 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:53,688 - Shuake.py[line:565] - INFO: 18845142702	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:56,537 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:56,537 - Shuake.py[line:565] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:56,751 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:56,751 - Shuake.py[line:565] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:51:57,970 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:51:57,971 - Shuake.py[line:565] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:00,620 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:00,620 - Shuake.py[line:565] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:00,834 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:00,834 - Shuake.py[line:565] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:01,594 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:01,594 - Shuake.py[line:565] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:01,801 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:01,801 - Shuake.py[line:565] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:02,265 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:02,265 - Shuake.py[line:565] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:03,074 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:03,074 - Shuake.py[line:565] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:04,525 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:04,526 - Shuake.py[line:565] - INFO: 17561925661	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:05,687 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:05,688 - Shuake.py[line:565] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:05,905 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:05,906 - Shuake.py[line:565] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:06,343 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:06,343 - Shuake.py[line:565] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:06,586 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:06,587 - Shuake.py[line:565] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:07,229 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:07,229 - Shuake.py[line:565] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:08,043 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:08,043 - Shuake.py[line:565] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:09,337 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:09,337 - Shuake.py[line:565] - INFO: 15970198033	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:10,589 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:10,590 - Shuake.py[line:565] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:10,795 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:10,796 - Shuake.py[line:565] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:12,864 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:12,865 - Shuake.py[line:565] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:13,578 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:13,579 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:14,932 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:14,932 - Shuake.py[line:565] - INFO: 18182699011	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:15,336 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:15,337 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:15,623 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:15,623 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:15,820 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:15,820 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:17,065 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:17,065 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:17,449 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:17,449 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:19,556 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:19,556 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:19,856 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:19,856 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:19,962 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:19,962 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:20,059 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:20,059 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:20,162 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:20,163 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:21,357 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:21,357 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:21,798 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:21,799 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:23,167 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:23,168 - Shuake.py[line:565] - INFO: 18925468581	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:24,209 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:24,210 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:24,414 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:24,414 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:27,878 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:27,878 - Shuake.py[line:565] - INFO: 17691183327	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:32,973 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:32,974 - Shuake.py[line:565] - INFO: 15638127287	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:34,661 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:34,661 - Shuake.py[line:565] - INFO: 15638127287	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:37,795 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:37,795 - Shuake.py[line:565] - INFO: 18700182108	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:42,339 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:42,340 - Shuake.py[line:565] - INFO: 13098880838	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:47,340 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:47,341 - Shuake.py[line:565] - INFO: 17809297831	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:52:53,038 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:52:53,039 - Shuake.py[line:565] - INFO: 15702959565	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 21:54:53,051 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 21:54:53,051 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:01:47,871 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:01:47,871 - Shuake.py[line:565] - INFO: 15638127287	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:01:48,084 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:01:48,084 - Shuake.py[line:565] - INFO: 15638127287	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:19:42,386 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:19:42,386 - Shuake.py[line:565] - INFO: 15702959565	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:27:58,318 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:27:58,318 - Shuake.py[line:565] - INFO: 13098880838	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:28:04,682 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:28:04,683 - Shuake.py[line:565] - INFO: 17691183327	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:30:46,479 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:30:46,479 - Shuake.py[line:565] - INFO: 15702959565	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:30:46,700 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:30:46,700 - Shuake.py[line:565] - INFO: 15702959565	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:36:47,487 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:36:47,488 - Shuake.py[line:565] - INFO: 13619506250	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:37:26,336 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:37:26,337 - Shuake.py[line:565] - INFO: 13098880838	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:37:26,555 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:37:26,556 - Shuake.py[line:565] - INFO: 13098880838	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:38:37,598 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:38:37,598 - Shuake.py[line:565] - INFO: 17691183327	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 22:38:37,797 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 22:38:37,797 - Shuake.py[line:565] - INFO: 17691183327	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:15:09,538 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:15:09,538 - Shuake.py[line:565] - INFO: 18700182108	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:22:36,460 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:22:36,460 - Shuake.py[line:565] - INFO: 18925468581	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:24:45,061 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:24:45,061 - Shuake.py[line:565] - INFO: 18700182108	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:24:45,289 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:24:45,289 - Shuake.py[line:565] - INFO: 18700182108	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:25:17,257 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:25:17,258 - Shuake.py[line:565] - INFO: 15037671931	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:31:03,891 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:31:03,892 - Shuake.py[line:565] - INFO: 18925468581	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:31:04,111 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:31:04,111 - Shuake.py[line:565] - INFO: 18925468581	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:41:45,670 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:41:45,671 - Shuake.py[line:565] - INFO: 15638127287	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-24 23:56:06,185 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-24 23:56:06,186 - Shuake.py[line:565] - INFO: 17691183327	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 00:08:15,347 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 00:08:15,347 - Shuake.py[line:565] - INFO: 15702959565	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 00:08:49,760 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 00:08:49,761 - Shuake.py[line:565] - INFO: 17809297831	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 00:16:12,714 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 00:16:12,714 - Shuake.py[line:565] - INFO: 13098880838	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 00:21:13,984 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 00:21:13,984 - Shuake.py[line:565] - INFO: 17809297831	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 00:21:14,183 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 00:21:14,184 - Shuake.py[line:565] - INFO: 17809297831	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 00:30:00,264 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 00:30:00,265 - Shuake.py[line:565] - INFO: 18700182108	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 01:08:03,505 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 01:08:03,506 - Shuake.py[line:565] - INFO: 18925468581	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 01:18:48,138 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 01:18:48,139 - Shuake.py[line:565] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 01:18:48,352 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 01:18:48,352 - Shuake.py[line:565] - INFO: 15081150997	获取chapter_info 失败  可能是资源下线，不是程序错误
2020-10-25 01:54:00,455 - Shuake.py[line:564] - INFO: 
Traceback (most recent call last):
  File "D:/bin/chaoxing_auto_Shuake/com/main/Shuake.py", line 548, in get_chapters_info
    chapters_a = chapters_lxml.find_all(name="a")
AttributeError: 'NoneType' object has no attribute 'find_all'
2020-10-25 01:54:00,455 - Shuake.py[line:565] - INFO: 17809297831	获取chapter_info 失败  可能是资源下线，不是程序错误
